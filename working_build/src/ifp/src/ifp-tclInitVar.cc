namespace ifp {
const char* ifp_tcl_inits[] = {
"IyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlCiMgQ29weXJpZ2h0IChjKSAyMDE5LTIwMjUsIFRoZSBPcGVuUk9BRCBBdXRob3JzCgpzdGE6OmRlZmluZV9jbWRfYXJncyAiaW5pdGlhbGl6ZV9mbG9vcnBsYW4iIHtbLXV0aWxpemF0aW9uIHV0aWxdXAoJCQkJCSAgICAgICBbLWFzcGVjdF9yYXRpbyByYXRpb11cCgkJCQkJICAgICAgIFstY29yZV9zcGFjZSBzcGFjZSB8IHtib3R0b20gdG9wIGxlZnQgcmlnaHR9XVwKCQkJCQkgICAgICAgWy1kaWVfYXJlYSB7bHggbHkgdXggdXkgfCB4MSB5MSB4MiB5MiAuLi59XVwKCQkJCQkgICAgICAgWy1jb3JlX2FyZWEge2x4IGx5IHV4IHV5IHwgeDEgeTEgeDIgeTIgLi4ufV1cCgkJCQkJICAgICAgIFstYWRkaXRpb25hbF9zaXRlcyBzaXRlX25hbWVzXVwKCQkJCQkgICAgICAgWy1zaXRlIHNpdGVfbmFtZV1cCgkJCQkJICAgICAgIFstcm93X3Bhcml0eSBOT05FfE9ERHxFVkVOXVwKCQkJCQkgICAgICAgWy1mbGlwX3NpdGVzIHNpdGVfbmFtZXNdXAoJCQkJCSAgICAgICBbLWdhcCBzcGFjZV19Cgpwcm9jIGluaXRpYWxpemVfZmxvb3JwbGFuIHsgYXJncyB9IHsKICBzdGE6OnBhcnNlX2tleV9hcmdzICJpbml0aWFsaXplX2Zsb29ycGxhbiIgYXJncyBcCiAgICBrZXlzIHstdXRpbGl6YXRpb24gLWFzcGVjdF9yYXRpbyAtY29yZV9zcGFjZSBcCiAgICAtZGllX2FyZWEgLWNvcmVfYXJlYSBcCiAgICAtc2l0ZSAtYWRkaXRpb25hbF9zaXRlcyAtcm93X3Bhcml0eSAtZmxpcF9zaXRlcyAtZ2FwfSBcCiAgICBmbGFncyB7fQoKICAjIEV4aXN0aW5nIHZhbGlkYXRpb24KICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC11dGlsaXphdGlvbildIH0gewogICAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtY29yZV9hcmVhKV0gfSB7CiAgICAgIHV0bDo6ZXJyb3IgSUZQIDIwICItY29yZV9hcmVhIGNhbm5vdCBiZSB1c2VkIHdpdGggLXV0aWxpemF0aW9uLiIKICAgIH0KICB9CgogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWRpZV9hcmVhKV0gfSB7CiAgICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1jb3JlX3NwYWNlKV0gfSB7CiAgICAgIHV0bDo6ZXJyb3IgSUZQIDI0ICItY29yZV9zcGFjZSBjYW5ub3QgYmUgdXNlZCB3aXRoIC1kaWVfYXJlYS4iCiAgICB9CiAgfQoKICAjIENoZWNrIGlmIHdlJ3JlIHVzaW5nIHBvbHlnb24gbW9kZSBiYXNlZCBvbiBjb29yZGluYXRlIGNvdW50CiAgc2V0IGlzX3BvbHlnb25fbW9kZSAwCgogICMgQ2hlY2sgZGllX2FyZWEgZm9yIHBvbHlnb24gbW9kZSAobW9yZSB0aGFuIDQgY29vcmRpbmF0ZXMpCiAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtZGllX2FyZWEpXSB9IHsKICAgIHNldCBkaWVfY29vcmRzICRrZXlzKC1kaWVfYXJlYSkKICAgIGlmIHsgW2xsZW5ndGggJGRpZV9jb29yZHNdID4gNCB9IHsKICAgICAgc2V0IGlzX3BvbHlnb25fbW9kZSAxCiAgICB9CiAgfQoKICAjIENoZWNrIGNvcmVfYXJlYSBmb3IgcG9seWdvbiBtb2RlIChtb3JlIHRoYW4gNCBjb29yZGluYXRlcykKICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1jb3JlX2FyZWEpXSB9IHsKICAgIHNldCBjb3JlX2Nvb3JkcyAka2V5cygtY29yZV9hcmVhKQogICAgaWYgeyBbbGxlbmd0aCAkY29yZV9jb29yZHNdID4gNCB9IHsKICAgICAgc2V0IGlzX3BvbHlnb25fbW9kZSAxCiAgICB9CiAgfQoKICAjIEJyYW5jaCB0byBwb2x5Z29uIGZsb3cgaWYgcG9seWdvbiBtb2RlIGRldGVjdGVkCiAgaWYgeyAkaXNfcG9seWdvbl9tb2RlIH0gewogICAgaWZwOjptYWtlX3BvbHlnb25fZGllX2hlbHBlciBbYXJyYXkgZ2V0IGtleXNdCiAgICBpZnA6Om1ha2VfcG9seWdvbl9yb3dzX2hlbHBlciBbYXJyYXkgZ2V0IGtleXNdCiAgICByZXR1cm4KICB9IGVsc2UgewogICAgaWZwOjptYWtlX2RpZV9oZWxwZXIgW2FycmF5IGdldCBrZXlzXQogICAgbWFrZV9yb3dzX2hlbHBlciBbYXJyYXkgZ2V0IGtleXNdCiAgfQp9Cgp2YXJpYWJsZSBtYWtlX3Jvd3NfYXJncwpzdGE6OmRlZmluZV9jbWRfYXJncyAibWFrZV9yb3dzIiB7CgkJCQkJICAgICAgIFstY29yZV9zcGFjZSBzcGFjZSB8IHtib3R0b20gdG9wIGxlZnQgcmlnaHR9XVwKCQkJCQkgICAgICAgWy1jb3JlX2FyZWEge2x4IGx5IHV4IHV5fV1cCgkJCQkJICAgICAgIFstYWRkaXRpb25hbF9zaXRlcyBzaXRlX25hbWVzXVwKCQkJCQkgICAgICAgWy1zaXRlIHNpdGVfbmFtZV1cCgkJCQkJICAgICAgIFstcm93X3Bhcml0eSBOT05FfE9ERHxFVkVOXVwKCQkJCQkgICAgICAgWy1mbGlwX3NpdGVzIHNpdGVfbmFtZXNdXAoJCQkJCSAgICAgICBbLWdhcCBzcGFjZV19CnByb2MgbWFrZV9yb3dzIHsgYXJncyB9IHsKICBzdGE6OnBhcnNlX2tleV9hcmdzICJtYWtlX3Jvd3MiIGFyZ3MgXAogICAga2V5cyB7LWNvcmVfc3BhY2UgXAogICAgLWNvcmVfYXJlYSAtc2l0ZSAtYWRkaXRpb25hbF9zaXRlcyAtcm93X3Bhcml0eSAtZmxpcF9zaXRlcyAtZ2FwfSBcCiAgICBmbGFncyB7fQogIG1ha2Vfcm93c19oZWxwZXIgW2FycmF5IGdldCBrZXlzXQp9Cgpwcm9jIG1ha2Vfcm93c19oZWxwZXIgeyBrZXlfYXJyYXkgfSB7CiAgYXJyYXkgc2V0IGtleXMgJGtleV9hcnJheQogIHNldCBzaXRlICIiCiAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtc2l0ZSldIH0gewogICAgc2V0IHNpdGUgW2lmcDo6ZmluZF9zaXRlICRrZXlzKC1zaXRlKV0KICB9IGVsc2UgewogICAgdXRsOjplcnJvciBJRlAgMzUgInVzZSAtc2l0ZSB0byBhZGQgcGxhY2VtZW50IHJvd3MuIgogIH0KCiAgc2V0IGFkZGl0aW9uYWxfc2l0ZXMge30KICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1hZGRpdGlvbmFsX3NpdGVzKV0gfSB7CiAgICBmb3JlYWNoIHNpdGVuYW1lICRrZXlzKC1hZGRpdGlvbmFsX3NpdGVzKSB7CiAgICAgIGxhcHBlbmQgYWRkaXRpb25hbF9zaXRlcyBbaWZwOjpmaW5kX3NpdGUgJHNpdGVuYW1lXQogICAgfQogIH0KCiAgc2V0IGZsaXBwZWRfc2l0ZXMge30KICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1mbGlwX3NpdGVzKV0gfSB7CiAgICBmb3JlYWNoIHNpdGVuYW1lICRrZXlzKC1mbGlwX3NpdGVzKSB7CiAgICAgIGxhcHBlbmQgZmxpcHBlZF9zaXRlcyBbaWZwOjpmaW5kX3NpdGUgJHNpdGVuYW1lXQogICAgfQogIH0KCiAgc2V0IHJvd19wYXJpdHkgIk5PTkUiCiAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtcm93X3Bhcml0eSldIH0gewogICAgc2V0IHJvd19wYXJpdHkgJGtleXMoLXJvd19wYXJpdHkpCiAgICBpZiB7ICRyb3dfcGFyaXR5ICE9ICJOT05FIiAmJiAkcm93X3Bhcml0eSAhPSAiT0REIiAmJiAkcm93X3Bhcml0eSAhPSAiRVZFTiIgfSB7CiAgICAgIHV0bDo6ZXJyb3IgSUZQIDU3ICItcm93X3Bhcml0eSBtdXN0IGJlIE5PTkUsIE9ERCBvciBFVkVOIgogICAgfQogIH0KCiAgIyBHZXQgZ2FwIHNwYWNlCiAgc2V0IGdhcCBbZXhwciAtKDIgKiogMzEpXQogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWdhcCldIH0gewogICAgc2V0IGdhcCBbb3JkOjptaWNyb25zX3RvX2RidSAka2V5cygtZ2FwKV0KICB9CgogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWNvcmVfYXJlYSldIH0gewogICAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtY29yZV9zcGFjZSldIH0gewogICAgICB1dGw6OmVycm9yIElGUCA2MCAiLWNvcmVfc3BhY2UgY2Fubm90IGJlIHVzZWQgd2l0aCAtY29yZV9hcmVhLiIKICAgIH0KCiAgICBzZXQgY29yZV9hcmVhICRrZXlzKC1jb3JlX2FyZWEpCiAgICBpZiB7IFtsbGVuZ3RoICRjb3JlX2FyZWFdICE9IDQgfSB7CiAgICAgIHV0bDo6ZXJyb3IgSUZQIDU5ICItY29yZV9hcmVhIGlzIGEgbGlzdCBvZiA0IGNvb3JkaW5hdGVzLiIKICAgIH0KICAgIGxhc3NpZ24gJGNvcmVfYXJlYSBjb3JlX2x4IGNvcmVfbHkgY29yZV91eCBjb3JlX3V5CiAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICItY29yZV9hcmVhIiAkY29yZV9seAogICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLWNvcmVfYXJlYSIgJGNvcmVfbHkKICAgIHN0YTo6Y2hlY2tfcG9zaXRpdmVfZmxvYXQgIi1jb3JlX2FyZWEiICRjb3JlX3V4CiAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICItY29yZV9hcmVhIiAkY29yZV91eQoKICAgIG9yZDo6ZW5zdXJlX2xpbmtlZAoKICAgICMgY29udmVydCBkaWUvY29yZSBjb29yZGluYXRlcyB0byBkYnUuCiAgICBpZnA6Om1ha2Vfcm93cyBcCiAgICAgIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICRjb3JlX2x4XSBbb3JkOjptaWNyb25zX3RvX2RidSAkY29yZV9seV0gXAogICAgICBbb3JkOjptaWNyb25zX3RvX2RidSAkY29yZV91eF0gW29yZDo6bWljcm9uc190b19kYnUgJGNvcmVfdXldIFwKICAgICAgJHNpdGUgXAogICAgICAkYWRkaXRpb25hbF9zaXRlcyBcCiAgICAgICRyb3dfcGFyaXR5IFwKICAgICAgJGZsaXBwZWRfc2l0ZXMgXAogICAgICAkZ2FwCiAgICByZXR1cm4KICB9CgogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWNvcmVfc3BhY2UpXSB9IHsKICAgIHNldCBjb3JlX3NwICRrZXlzKC1jb3JlX3NwYWNlKQogICAgaWYgeyBbbGxlbmd0aCAkY29yZV9zcF0gPT0gMSB9IHsKICAgICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLWNvcmVfc3BhY2UiICRjb3JlX3NwCiAgICAgIHNldCBjb3JlX3NwX2JvdHRvbSAkY29yZV9zcAogICAgICBzZXQgY29yZV9zcF90b3AgJGNvcmVfc3AKICAgICAgc2V0IGNvcmVfc3BfbGVmdCAkY29yZV9zcAogICAgICBzZXQgY29yZV9zcF9yaWdodCAkY29yZV9zcAogICAgfSBlbHNlaWYgeyBbbGxlbmd0aCAkY29yZV9zcF0gPT0gNCB9IHsKICAgICAgbGFzc2lnbiAkY29yZV9zcCBjb3JlX3NwX2JvdHRvbSBjb3JlX3NwX3RvcCBjb3JlX3NwX2xlZnQgY29yZV9zcF9yaWdodAogICAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICItY29yZV9zcGFjZSIgJGNvcmVfc3BfYm90dG9tCiAgICAgIHN0YTo6Y2hlY2tfcG9zaXRpdmVfZmxvYXQgIi1jb3JlX3NwYWNlIiAkY29yZV9zcF90b3AKICAgICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLWNvcmVfc3BhY2UiICRjb3JlX3NwX2xlZnQKICAgICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLWNvcmVfc3BhY2UiICRjb3JlX3NwX3JpZ2h0CiAgICB9IGVsc2UgewogICAgICB1dGw6OmVycm9yIElGUCA1OCAiLWNvcmVfc3BhY2UgaXMgZWl0aGVyIGEgbGlzdCBvZiA0IG1hcmdpbnMgb3Igb25lIHZhbHVlIGZvciBhbGwgbWFyZ2lucy4iCiAgICB9CgogICAgb3JkOjplbnN1cmVfbGlua2VkCgogICAgIyBjb252ZXJ0IHNwYWNpbmcgY29vcmRpbmF0ZXMgdG8gZGJ1LgogICAgaWZwOjptYWtlX3Jvd3Nfd2l0aF9zcGFjaW5nIFwKICAgICAgW29yZDo6bWljcm9uc190b19kYnUgJGNvcmVfc3BfYm90dG9tXSBcCiAgICAgIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICRjb3JlX3NwX3RvcF0gXAogICAgICBbb3JkOjptaWNyb25zX3RvX2RidSAkY29yZV9zcF9sZWZ0XSBcCiAgICAgIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICRjb3JlX3NwX3JpZ2h0XSBcCiAgICAgICRzaXRlIFwKICAgICAgJGFkZGl0aW9uYWxfc2l0ZXMgXAogICAgICAkcm93X3Bhcml0eSBcCiAgICAgICRmbGlwcGVkX3NpdGVzIFwKICAgICAgJGdhcAogICAgcmV0dXJuCiAgfQoKICB1dGw6OmVycm9yIElGUCA2MiAibm8gLWNvcmVfYXJlYSBvciAtY29yZV9zcGFjZSBzcGVjaWZpZWQuIgp9CgpzdGE6OmRlZmluZV9jbWRfYXJncyAibWFrZV90cmFja3MiIHtbbGF5ZXJdXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsteF9waXRjaCB4X3BpdGNoXVwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbLXlfcGl0Y2ggeV9waXRjaF1cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWy14X29mZnNldCB4X29mZnNldF1cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWy15X29mZnNldCB5X29mZnNldF19Cgpwcm9jIG1ha2VfdHJhY2tzIHsgYXJncyB9IHsKICBzdGE6OnBhcnNlX2tleV9hcmdzICJtYWtlX3RyYWNrcyIgYXJncyBcCiAgICBrZXlzIHsteF9waXRjaCAteV9waXRjaCAteF9vZmZzZXQgLXlfb2Zmc2V0fSBcCiAgICBmbGFncyB7fQoKICBzdGE6OmNoZWNrX2FyZ2NfZXEwb3IxICJpbml0aWFsaXplX2Zsb29ycGxhbiIgJGFyZ3MKCiAgc2V0IHRlY2ggW29yZDo6Z2V0X2RiX3RlY2hdCgogIGlmIHsgW2xsZW5ndGggJGFyZ3NdID09IDAgfSB7CiAgICBpZnA6Om1ha2VfbGF5ZXJfdHJhY2tzCiAgfSBlbHNlaWYgeyBbbGxlbmd0aCAkYXJnc10gPT0gMSB9IHsKICAgIHNldCBsYXllcl9uYW1lIFtsaW5kZXggJGFyZ3MgMF0KICAgIHNldCBsYXllciBbJHRlY2ggZmluZExheWVyICRsYXllcl9uYW1lXQogICAgaWYgeyAkbGF5ZXIgPT0gIk5VTEwiIH0gewogICAgICB1dGw6OmVycm9yICJJRlAiIDEwICJsYXllciAkbGF5ZXJfbmFtZSBub3QgZm91bmQuIgogICAgfQogICAgaWYgeyBbJGxheWVyIGdldFR5cGVdICE9ICJST1VUSU5HIiB9IHsKICAgICAgdXRsOjplcnJvciAiSUZQIiAyNSAibGF5ZXIgJGxheWVyX25hbWUgaXMgbm90IGEgcm91dGluZyBsYXllci4iCiAgICB9CgogICAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygteF9waXRjaCldIH0gewogICAgICBzZXQgeF9waXRjaCAka2V5cygteF9waXRjaCkKICAgICAgc2V0IHhfcGl0Y2ggW2lmcDo6bWljcm9uc190b19tZmdfZ3JpZCAkeF9waXRjaF0KICAgICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLXhfcGl0Y2giICR4X3BpdGNoCiAgICB9IGVsc2UgewogICAgICBzZXQgeF9waXRjaCBbJGxheWVyIGdldFBpdGNoWF0KICAgIH0KCiAgICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC14X29mZnNldCldIH0gewogICAgICBzZXQgeF9vZmZzZXQgJGtleXMoLXhfb2Zmc2V0KQogICAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICIteF9vZmZzZXQiICR4X29mZnNldAogICAgICBzZXQgeF9vZmZzZXQgW2lmcDo6bWljcm9uc190b19tZmdfZ3JpZCAkeF9vZmZzZXRdCiAgICB9IGVsc2UgewogICAgICBzZXQgeF9vZmZzZXQgWyRsYXllciBnZXRPZmZzZXRYXQogICAgfQoKICAgIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLXlfcGl0Y2gpXSB9IHsKICAgICAgc2V0IHlfcGl0Y2ggJGtleXMoLXlfcGl0Y2gpCiAgICAgIHNldCB5X3BpdGNoIFtpZnA6Om1pY3JvbnNfdG9fbWZnX2dyaWQgJHlfcGl0Y2hdCiAgICAgIHN0YTo6Y2hlY2tfcG9zaXRpdmVfZmxvYXQgIi15X3BpdGNoIiAkeV9waXRjaAogICAgfSBlbHNlIHsKICAgICAgc2V0IHlfcGl0Y2ggWyRsYXllciBnZXRQaXRjaFldCiAgICB9CgogICAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygteV9vZmZzZXQpXSB9IHsKICAgICAgc2V0IHlfb2Zmc2V0ICRrZXlzKC15X29mZnNldCkKICAgICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLXlfb2Zmc2V0IiAkeV9vZmZzZXQKICAgICAgc2V0IHlfb2Zmc2V0IFtpZnA6Om1pY3JvbnNfdG9fbWZnX2dyaWQgJHlfb2Zmc2V0XQogICAgfSBlbHNlIHsKICAgICAgc2V0IHlfb2Zmc2V0IFskbGF5ZXIgZ2V0T2Zmc2V0WV0KICAgIH0KICAgIGlmcDo6bWFrZV9sYXllcl90cmFja3MgJGxheWVyICR4X29mZnNldCAkeF9waXRjaCAkeV9vZmZzZXQgJHlfcGl0Y2gKICB9Cn0KCnN0YTo6ZGVmaW5lX2NtZF9hcmdzICJpbnNlcnRfdGllY2VsbHMiIHt0aWVfcGluIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFstcHJlZml4IHByZWZpeF0KfQoKcHJvYyBpbnNlcnRfdGllY2VsbHMgeyBhcmdzIH0gewogIHN0YTo6cGFyc2Vfa2V5X2FyZ3MgImluc2VydF90aWVjZWxscyIgYXJncyBcCiAgICBrZXlzIHstcHJlZml4fSBcCiAgICBmbGFncyB7fQoKICBzdGE6OmNoZWNrX2FyZ2NfZXExICJpbnNlcnRfdGllY2VsbHMiICRhcmdzCgogIHNldCBwcmVmaXggIlRJRU9GRl8iCiAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtcHJlZml4KV0gfSB7CiAgICBzZXQgcHJlZml4ICRrZXlzKC1wcmVmaXgpCiAgfQoKICBzZXQgdGllX3Bpbl9zcGxpdCBbc3BsaXQgJGFyZ3Mgey99XQogIHNldCBwb3J0IFtsaW5kZXggJHRpZV9waW5fc3BsaXQgZW5kXQogIHNldCB0aWVfY2VsbCBbam9pbiBbbHJhbmdlICR0aWVfcGluX3NwbGl0IDAgZW5kLTFdIHsvfV0KCiAgc2V0IG1hc3RlciBOVUxMCiAgZm9yZWFjaCBsaWIgW1tvcmQ6OmdldF9kYl0gZ2V0TGlic10gewogICAgc2V0IG1hc3RlciBbJGxpYiBmaW5kTWFzdGVyICR0aWVfY2VsbF0KICAgIGlmIHsgJG1hc3RlciAhPSAiTlVMTCIgfSB7CiAgICAgIGJyZWFrCiAgICB9CiAgfQogIGlmIHsgJG1hc3RlciA9PSAiTlVMTCIgfSB7CiAgICB1dGw6OmVycm9yICJJRlAiIDMxICJVbmFibGUgdG8gZmluZCBtYXN0ZXI6ICR0aWVfY2VsbCIKICB9CgogIHNldCBtdGVybSBbJG1hc3RlciBmaW5kTVRlcm0gJHBvcnRdCiAgaWYgeyAkbWFzdGVyID09ICJOVUxMIiB9IHsKICAgIHV0bDo6ZXJyb3IgIklGUCIgMzIgIlVuYWJsZSB0byBmaW5kIG1hc3RlciBwaW46ICRhcmdzIgogIH0KCiAgb3JkOjplbnN1cmVfbGlua2VkCgogIGlmcDo6aW5zZXJ0X3RpZWNlbGxzX2NtZCAkbXRlcm0gJHByZWZpeAp9CgpuYW1lc3BhY2UgZXZhbCBpZnAgewpwcm9jIG1pY3JvbnNfdG9fbWZnX2dyaWQgeyBtaWNyb25zIH0gewogIHNldCB0ZWNoIFtvcmQ6OmdldF9kYl90ZWNoXQogIGlmIHsgWyR0ZWNoIGhhc01hbnVmYWN0dXJpbmdHcmlkXSB9IHsKICAgIHNldCBkYnUgWyR0ZWNoIGdldERiVW5pdHNQZXJNaWNyb25dCiAgICBzZXQgZ3JpZCBbJHRlY2ggZ2V0TWFudWZhY3R1cmluZ0dyaWRdCiAgICByZXR1cm4gW2V4cHIgcm91bmQocm91bmQoJG1pY3JvbnMgKiAkZGJ1IC8gJGdyaWQpICogJGdyaWQpXQogIH0gZWxzZSB7CiAgICByZXR1cm4gW29yZDo6bWljcm9uc190b19kYnUgJG1pY3JvbnNdCiAgfQp9Cgpwcm9jIG1ha2VfZGllX2hlbHBlciB7IGtleV9hcnJheSB9IHsKICBhcnJheSBzZXQga2V5cyAka2V5X2FycmF5CgogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLXV0aWxpemF0aW9uKV0gfSB7CiAgICBzZXQgdXRpbCAka2V5cygtdXRpbGl6YXRpb24pCiAgICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1kaWVfYXJlYSldIH0gewogICAgICB1dGw6OmVycm9yIElGUCAxNCAiLWRpZV9hcmVhIGNhbm5vdCBiZSB1c2VkIHdpdGggLXV0aWxpemF0aW9uLiIKICAgIH0KICAgIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWNvcmVfc3BhY2UpXSB9IHsKICAgICAgc2V0IGNvcmVfc3AgJGtleXMoLWNvcmVfc3BhY2UpCiAgICAgIGlmIHsgW2xsZW5ndGggJGNvcmVfc3BdID09IDEgfSB7CiAgICAgICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLWNvcmVfc3BhY2UiICRjb3JlX3NwCiAgICAgICAgc2V0IGNvcmVfc3BfYm90dG9tICRjb3JlX3NwCiAgICAgICAgc2V0IGNvcmVfc3BfdG9wICRjb3JlX3NwCiAgICAgICAgc2V0IGNvcmVfc3BfbGVmdCAkY29yZV9zcAogICAgICAgIHNldCBjb3JlX3NwX3JpZ2h0ICRjb3JlX3NwCiAgICAgIH0gZWxzZWlmIHsgW2xsZW5ndGggJGNvcmVfc3BdID09IDQgfSB7CiAgICAgICAgbGFzc2lnbiAkY29yZV9zcCBjb3JlX3NwX2JvdHRvbSBjb3JlX3NwX3RvcCBjb3JlX3NwX2xlZnQgY29yZV9zcF9yaWdodAogICAgICB9IGVsc2UgewogICAgICAgIHV0bDo6ZXJyb3IgSUZQIDEzICItY29yZV9zcGFjZSBpcyBlaXRoZXIgYSBsaXN0IG9mIDQgbWFyZ2lucyBvciBvbmUgdmFsdWUgZm9yIGFsbCBtYXJnaW5zLiIKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdXRsOjplcnJvciBJRlAgMzQgIm5vIC1jb3JlX3NwYWNlIHNwZWNpZmllZC4iCiAgICB9CiAgICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1hc3BlY3RfcmF0aW8pXSB9IHsKICAgICAgc2V0IGFzcGVjdF9yYXRpbyAka2V5cygtYXNwZWN0X3JhdGlvKQogICAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICItYXNwZWN0X3JhdGlvIiAkYXNwZWN0X3JhdGlvCiAgICB9IGVsc2UgewogICAgICBzZXQgYXNwZWN0X3JhdGlvIDEuMAogICAgfQogICAgaWZwOjptYWtlX2RpZV91dGlsICR1dGlsICRhc3BlY3RfcmF0aW8gXAogICAgICBbb3JkOjptaWNyb25zX3RvX2RidSAkY29yZV9zcF9ib3R0b21dIFwKICAgICAgW29yZDo6bWljcm9uc190b19kYnUgJGNvcmVfc3BfdG9wXSBcCiAgICAgIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICRjb3JlX3NwX2xlZnRdIFwKICAgICAgW29yZDo6bWljcm9uc190b19kYnUgJGNvcmVfc3BfcmlnaHRdCiAgICByZXR1cm4KICB9CgogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWRpZV9hcmVhKV0gfSB7CiAgICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC11dGlsaXphdGlvbildIH0gewogICAgICB1dGw6OmVycm9yIElGUCAyMyAiLXV0aWxpemF0aW9uIGNhbm5vdCBiZSB1c2VkIHdpdGggLWRpZV9hcmVhLiIKICAgIH0KICAgIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWFzcGVjdF9yYXRpbyldIH0gewogICAgICB1dGw6OmVycm9yIElGUCAzMyAiLWFzcGVjdF9yYXRpbyBjYW5ub3QgYmUgdXNlZCB3aXRoIC1kaWVfYXJlYS4iCiAgICB9CiAgICBzZXQgZGllX2FyZWEgJGtleXMoLWRpZV9hcmVhKQogICAgaWYgeyBbbGxlbmd0aCAkZGllX2FyZWFdICE9IDQgfSB7CiAgICAgIHV0bDo6ZXJyb3IgSUZQIDE1ICItZGllX2FyZWEgaXMgYSBsaXN0IG9mIDQgY29vcmRpbmF0ZXMuIgogICAgfQogICAgbGFzc2lnbiAkZGllX2FyZWEgZGllX2x4IGRpZV9seSBkaWVfdXggZGllX3V5CiAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICItZGllX2FyZWEiICRkaWVfbHgKICAgIHN0YTo6Y2hlY2tfcG9zaXRpdmVfZmxvYXQgIi1kaWVfYXJlYSIgJGRpZV9seQogICAgc3RhOjpjaGVja19wb3NpdGl2ZV9mbG9hdCAiLWRpZV9hcmVhIiAkZGllX3V4CiAgICBzdGE6OmNoZWNrX3Bvc2l0aXZlX2Zsb2F0ICItZGllX2FyZWEiICRkaWVfdXkKCiAgICBvcmQ6OmVuc3VyZV9saW5rZWQKCiAgICAjIGNvbnZlcnQgZGllIGNvb3JkaW5hdGVzIHRvIGRidS4KICAgIGlmcDo6bWFrZV9kaWUgXAogICAgICBbb3JkOjptaWNyb25zX3RvX2RidSAkZGllX2x4XSBbb3JkOjptaWNyb25zX3RvX2RidSAkZGllX2x5XSBcCiAgICAgIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICRkaWVfdXhdIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICRkaWVfdXldCiAgICByZXR1cm4KICB9CgogIHV0bDo6ZXJyb3IgSUZQIDE5ICJubyAtdXRpbGl6YXRpb24gb3IgLWRpZV9hcmVhIHNwZWNpZmllZC4iCn0KCnByb2MgbWFrZV9wb2x5Z29uX2RpZV9oZWxwZXIgeyBrZXlfYXJyYXkgfSB7CiAgYXJyYXkgc2V0IGtleXMgJGtleV9hcnJheQoKICBpZiB7ICFbaW5mbyBleGlzdHMga2V5cygtZGllX2FyZWEpXSB9IHsKICAgIHV0bDo6ZXJyb3IgSUZQIDc1ICJubyAtZGllX2FyZWEgc3BlY2lmaWVkIGZvciBwb2x5Z29uIGZsb29ycGxhbi4iCiAgfQogIHNldCBkaWVfdmVydGljZXMgJGtleXMoLWRpZV9hcmVhKQogIGlmIHsgW2xsZW5ndGggJGRpZV92ZXJ0aWNlc10gJSAyICE9IDAgfSB7CiAgICB1dGw6OmVycm9yIElGUCA3NiAiLWRpZV9hcmVhIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBjb29yZGluYXRlcyAoeCB5IHBhaXJzKS4iCiAgfQoKICBpZiB7IFtsbGVuZ3RoICRkaWVfdmVydGljZXNdIDwgOCB9IHsKICAgIHV0bDo6ZXJyb3IgSUZQIDc3ICItZGllX2FyZWEgbXVzdCBoYXZlIGF0IGxlYXN0IDQgdmVydGljZXMgKDggY29vcmRpbmF0ZXMpLiIKICB9CgogICMgQ2xlYXIgYW55IHByZXZpb3VzIHBvbHlnb24gZGF0YQogIG9yZDo6ZW5zdXJlX2xpbmtlZAogICMgbGlzdCBvZiB2ZXJ0aWNlcyBvZiB0aGUgcG9seWdvbgogIHNldCBwb2x5Z29uX3ZlcnRpY2VzIHt9CgogICMgQWRkIGRpZSBwb2x5Z29uIHBvaW50cwogIHNldCBwb2ludF9jb3VudCAwCiAgZm9yZWFjaCB7eCB5fSAkZGllX3ZlcnRpY2VzIHsKICAgICMgVmFsaWRhdGUgY29vcmRpbmF0ZXMgYXJlIG51bWVyaWMKICAgIGlmIHsgIVtzdHJpbmcgaXMgZG91YmxlIC1zdHJpY3QgJHhdIHx8ICFbc3RyaW5nIGlzIGRvdWJsZSAtc3RyaWN0ICR5XSB9IHsKICAgICAgdXRsOjplcnJvciBJRlAgNzggIkludmFsaWQgZGllIHBvbHlnb24gY29vcmRpbmF0ZVwKICAgICAgYXQgcG9zaXRpb24gW2V4cHIgJHBvaW50X2NvdW50KjJdOiAnJHggJHknIC0gbXVzdCBiZSBudW1lcmljIgogICAgfQogICAgIyBDaGVjayBmb3IgbmVnYXRpdmUgY29vcmRpbmF0ZXMKICAgICMgaWYgeyR4IDwgMCB8fCAkeSA8IDB9IHsKICAgICMgICB1dGw6OmVycm9yIElGUCA3OSAiRGllIHBvbHlnb24gY29vcmRpbmF0ZXMgbXVzdCBiZSBub24tbmVnYXRpdmUuIEZvdW5kOiAoJHgsICR5KSIKICAgICMgfQoKICAgIGxhcHBlbmQgcG9seWdvbl92ZXJ0aWNlcyBbb3JkOjptaWNyb25zX3RvX2RidSAkeF0KICAgIGxhcHBlbmQgcG9seWdvbl92ZXJ0aWNlcyBbb3JkOjptaWNyb25zX3RvX2RidSAkeV0KCiAgICBpbmNyIHBvaW50X2NvdW50CiAgfQoKICB1dGw6OmluZm8gSUZQIDUgIkFkZGVkICRwb2ludF9jb3VudCBkaWUgcG9seWdvbiB2ZXJ0aWNlcyB0byB0aGUgbGlzdC4iCiAgaWZwOjptYWtlX3BvbHlnb25fZGllICRwb2x5Z29uX3ZlcnRpY2VzCiAgcmV0dXJuCn0KCnByb2MgbWFrZV9wb2x5Z29uX3Jvd3NfaGVscGVyIHsga2V5X2FycmF5IH0gewogIGFycmF5IHNldCBrZXlzICRrZXlfYXJyYXkKCiAgIyBWYWxpZGF0ZSB0aGF0IGNvcmVfYXJlYSBpcyBzcGVjaWZpZWQgZm9yIHBvbHlnb24gZmxvb3JwbGFuCiAgaWYgeyAhW2luZm8gZXhpc3RzIGtleXMoLWNvcmVfYXJlYSldIH0gewogICAgdXRsOjplcnJvciBJRlAgODUgIm5vIC1jb3JlX2FyZWEgc3BlY2lmaWVkIGZvciBwb2x5Z29uYWwgZmxvb3JwbGFuLiIKICB9CgogICMgR2V0IHRoZSBzaXRlIGluZm9ybWF0aW9uIChyZXF1aXJlZCBmb3IgcG9seWdvbiByb3dzKQogIHNldCBzaXRlICIiCiAgaWYgeyBbaW5mbyBleGlzdHMga2V5cygtc2l0ZSldIH0gewogICAgc2V0IHNpdGUgW2lmcDo6ZmluZF9zaXRlICRrZXlzKC1zaXRlKV0KICB9IGVsc2UgewogICAgdXRsOjplcnJvciBJRlAgODAgInVzZSAtc2l0ZSB0byBhZGQgcGxhY2VtZW50IHJvd3MgZm9yIHBvbHlnb24gZmxvb3JwbGFuLiIKICB9CgogICMgR2V0IGFkZGl0aW9uYWwgc2l0ZXMKICBzZXQgYWRkaXRpb25hbF9zaXRlcyB7fQogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLWFkZGl0aW9uYWxfc2l0ZXMpXSB9IHsKICAgIGZvcmVhY2ggc2l0ZW5hbWUgJGtleXMoLWFkZGl0aW9uYWxfc2l0ZXMpIHsKICAgICAgbGFwcGVuZCBhZGRpdGlvbmFsX3NpdGVzIFtpZnA6OmZpbmRfc2l0ZSAkc2l0ZW5hbWVdCiAgICB9CiAgfQoKICAjIEdldCBmbGlwcGVkIHNpdGVzCiAgc2V0IGZsaXBwZWRfc2l0ZXMge30KICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1mbGlwX3NpdGVzKV0gfSB7CiAgICBmb3JlYWNoIHNpdGVuYW1lICRrZXlzKC1mbGlwX3NpdGVzKSB7CiAgICAgIGxhcHBlbmQgZmxpcHBlZF9zaXRlcyBbaWZwOjpmaW5kX3NpdGUgJHNpdGVuYW1lXQogICAgfQogIH0KCiAgIyBHZXQgcm93IHBhcml0eQogIHNldCByb3dfcGFyaXR5ICJOT05FIgogIGlmIHsgW2luZm8gZXhpc3RzIGtleXMoLXJvd19wYXJpdHkpXSB9IHsKICAgIHNldCByb3dfcGFyaXR5ICRrZXlzKC1yb3dfcGFyaXR5KQogICAgaWYgeyAkcm93X3Bhcml0eSAhPSAiTk9ORSIgJiYgJHJvd19wYXJpdHkgIT0gIk9ERCIgJiYgJHJvd19wYXJpdHkgIT0gIkVWRU4iIH0gewogICAgICB1dGw6OmVycm9yIElGUCA4MSAiLXJvd19wYXJpdHkgbXVzdCBiZSBOT05FLCBPREQgb3IgRVZFTiIKICAgIH0KICB9CgogICMgR2V0IGdhcCBzcGFjZQogIHNldCBnYXAgW2V4cHIgLSgyICoqIDMxKV0KICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1nYXApXSB9IHsKICAgIHNldCBnYXAgW29yZDo6bWljcm9uc190b19kYnUgJGtleXMoLWdhcCldCiAgfQoKICAjIEhhbmRsZSBjb3JlIHBvbHlnb24gLSB0aGlzIGlzIHRoZSBrZXkgZGlmZmVyZW5jZSBmcm9tIHJlY3Rhbmd1bGFyIHJvd3MKICBpZiB7IFtpbmZvIGV4aXN0cyBrZXlzKC1jb3JlX2FyZWEpXSB9IHsKICAgIHNldCBjb3JlX3ZlcnRpY2VzICRrZXlzKC1jb3JlX2FyZWEpCiAgICBpZiB7IFtsbGVuZ3RoICRjb3JlX3ZlcnRpY2VzXSAlIDIgIT0gMCB9IHsKICAgICAgdXRsOjplcnJvciBJRlAgODIgIi1jb3JlX2FyZWEgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIGNvb3JkaW5hdGVzICh4IHkgcGFpcnMpLiIKICAgIH0KCiAgICBpZiB7IFtsbGVuZ3RoICRjb3JlX3ZlcnRpY2VzXSA8IDggfSB7CiAgICAgIHV0bDo6ZXJyb3IgSUZQIDgzICItY29yZV9hcmVhIG11c3QgaGF2ZSBhdCBsZWFzdCA0IHZlcnRpY2VzICg4IGNvb3JkaW5hdGVzKS4iCiAgICB9CgogICAgIyBDb252ZXJ0IG1pY3JvbiBjb29yZGluYXRlcyB0byBEQlUgYW5kIGNyZWF0ZSBwb2x5Z29uIHZlcnRpY2VzIGxpc3QKICAgIHNldCBwb2x5Z29uX3ZlcnRpY2VzIHt9CiAgICBzZXQgcG9pbnRfY291bnQgMAogICAgZm9yZWFjaCB7eCB5fSAkY29yZV92ZXJ0aWNlcyB7CiAgICAgICMgVmFsaWRhdGUgY29vcmRpbmF0ZXMgYXJlIG51bWVyaWMKICAgICAgaWYgeyAhW3N0cmluZyBpcyBkb3VibGUgLXN0cmljdCAkeF0gfHwgIVtzdHJpbmcgaXMgZG91YmxlIC1zdHJpY3QgJHldIH0gewogICAgICAgIHV0bDo6ZXJyb3IgSUZQIDg0ICJJbnZhbGlkIGNvcmUgcG9seWdvbiBjb29yZGluYXRlXAogICAgICAgIGF0IHBvc2l0aW9uIFtleHByICRwb2ludF9jb3VudCoyXTogJyR4ICR5JyAtIG11c3QgYmUgbnVtZXJpYyIKICAgICAgfQoKICAgICAgIyBDb252ZXJ0IG1pY3JvbiBpbnB1dCB0byBEQlUKICAgICAgbGFwcGVuZCBwb2x5Z29uX3ZlcnRpY2VzIFtvcmQ6Om1pY3JvbnNfdG9fZGJ1ICR4XQogICAgICBsYXBwZW5kIHBvbHlnb25fdmVydGljZXMgW29yZDo6bWljcm9uc190b19kYnUgJHldCiAgICAgIGluY3IgcG9pbnRfY291bnQKICAgIH0KCiAgICBvcmQ6OmVuc3VyZV9saW5rZWQKCiAgICAjIENhbGwgdGhlIHBvbHlnb24gcm93cyBjcmVhdGlvbiBmdW5jdGlvbiB3aXRoIHNpbXBsaWZpZWQgaW50ZXJmYWNlCiAgICBpZnA6Om1ha2VfcG9seWdvbl9yb3dzX3NpbXBsZSBcCiAgICAgICRwb2x5Z29uX3ZlcnRpY2VzIFwKICAgICAgJHNpdGUgXAogICAgICAkYWRkaXRpb25hbF9zaXRlcyBcCiAgICAgICRyb3dfcGFyaXR5IFwKICAgICAgJGZsaXBwZWRfc2l0ZXMgXAogICAgICAkZ2FwCiAgICByZXR1cm4KICB9Cn0KfSA7IyBlbmQgbmFtZXNwYWNlIGlmcAo=",
nullptr};
} // end namespace ifp
