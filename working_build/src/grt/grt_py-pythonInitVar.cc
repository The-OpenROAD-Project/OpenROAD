namespace grt {
const char* grt_py_python_inits[] = {
"IyBUaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IFNXSUcgKGh0dHA6Ly93d3cuc3dpZy5vcmcpLgojIFZlcnNpb24gNC4wLjAKIwojIERvIG5vdCBtYWtlIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmctLW1vZGlmeQojIHRoZSBTV0lHIGludGVyZmFjZSBmaWxlIGluc3RlYWQuCgpmcm9tIHN5cyBpbXBvcnQgdmVyc2lvbl9pbmZvIGFzIF9zd2lnX3B5dGhvbl92ZXJzaW9uX2luZm8KaWYgX3N3aWdfcHl0aG9uX3ZlcnNpb25faW5mbyA8ICgyLCA3LCAwKToKICAgIHJhaXNlIFJ1bnRpbWVFcnJvcignUHl0aG9uIDIuNyBvciBsYXRlciByZXF1aXJlZCcpCgojIEltcG9ydCB0aGUgbG93LWxldmVsIEMvQysrIG1vZHVsZQppZiBfX3BhY2thZ2VfXyBvciAnLicgaW4gX19uYW1lX186CiAgICBmcm9tIC4gaW1wb3J0IF9ncnRfcHkKZWxzZToKICAgIGltcG9ydCBfZ3J0X3B5Cgp0cnk6CiAgICBpbXBvcnQgYnVpbHRpbnMgYXMgX19idWlsdGluX18KZXhjZXB0IEltcG9ydEVycm9yOgogICAgaW1wb3J0IF9fYnVpbHRpbl9fCgpkZWYgX3N3aWdfc2V0YXR0cl9ub25keW5hbWljKHNlbGYsIGNsYXNzX3R5cGUsIG5hbWUsIHZhbHVlLCBzdGF0aWM9MSk6CiAgICBpZiBuYW1lID09ICJ0aGlzb3duIjoKICAgICAgICByZXR1cm4gc2VsZi50aGlzLm93bih2YWx1ZSkKICAgIGlmIG5hbWUgPT0gInRoaXMiOgogICAgICAgIGlmIHR5cGUodmFsdWUpLl9fbmFtZV9fID09ICdTd2lnUHlPYmplY3QnOgogICAgICAgICAgICBzZWxmLl9fZGljdF9fW25hbWVdID0gdmFsdWUKICAgICAgICAgICAgcmV0dXJuCiAgICBtZXRob2QgPSBjbGFzc190eXBlLl9fc3dpZ19zZXRtZXRob2RzX18uZ2V0KG5hbWUsIE5vbmUpCiAgICBpZiBtZXRob2Q6CiAgICAgICAgcmV0dXJuIG1ldGhvZChzZWxmLCB2YWx1ZSkKICAgIGlmIG5vdCBzdGF0aWM6CiAgICAgICAgb2JqZWN0Ll9fc2V0YXR0cl9fKHNlbGYsIG5hbWUsIHZhbHVlKQogICAgZWxzZToKICAgICAgICByYWlzZSBBdHRyaWJ1dGVFcnJvcigiWW91IGNhbm5vdCBhZGQgYXR0cmlidXRlcyB0byAlcyIgJSBzZWxmKQoKCmRlZiBfc3dpZ19zZXRhdHRyKHNlbGYsIGNsYXNzX3R5cGUsIG5hbWUsIHZhbHVlKToKICAgIHJldHVybiBfc3dpZ19zZXRhdHRyX25vbmR5bmFtaWMoc2VsZiwgY2xhc3NfdHlwZSwgbmFtZSwgdmFsdWUsIDApCgoKZGVmIF9zd2lnX2dldGF0dHIoc2VsZiwgY2xhc3NfdHlwZSwgbmFtZSk6CiAgICBpZiBuYW1lID09ICJ0aGlzb3duIjoKICAgICAgICByZXR1cm4gc2VsZi50aGlzLm93bigpCiAgICBtZXRob2QgPSBjbGFzc190eXBlLl9fc3dpZ19nZXRtZXRob2RzX18uZ2V0KG5hbWUsIE5vbmUpCiAgICBpZiBtZXRob2Q6CiAgICAgICAgcmV0dXJuIG1ldGhvZChzZWxmKQogICAgcmFpc2UgQXR0cmlidXRlRXJyb3IoIiclcycgb2JqZWN0IGhhcyBubyBhdHRyaWJ1dGUgJyVzJyIgJSAoY2xhc3NfdHlwZS5fX25hbWVfXywgbmFtZSkpCgoKZGVmIF9zd2lnX3JlcHIoc2VsZik6CiAgICB0cnk6CiAgICAgICAgc3RydGhpcyA9ICJwcm94eSBvZiAiICsgc2VsZi50aGlzLl9fcmVwcl9fKCkKICAgIGV4Y2VwdCBfX2J1aWx0aW5fXy5FeGNlcHRpb246CiAgICAgICAgc3RydGhpcyA9ICIiCiAgICByZXR1cm4gIjwlcy4lczsgJXMgPiIgJSAoc2VsZi5fX2NsYXNzX18uX19tb2R1bGVfXywgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHN0cnRoaXMsKQoKCmRlZiBfc3dpZ19zZXRhdHRyX25vbmR5bmFtaWNfaW5zdGFuY2VfdmFyaWFibGUoc2V0KToKICAgIGRlZiBzZXRfaW5zdGFuY2VfYXR0cihzZWxmLCBuYW1lLCB2YWx1ZSk6CiAgICAgICAgaWYgbmFtZSA9PSAidGhpc293biI6CiAgICAgICAgICAgIHNlbGYudGhpcy5vd24odmFsdWUpCiAgICAgICAgZWxpZiBuYW1lID09ICJ0aGlzIjoKICAgICAgICAgICAgc2V0KHNlbGYsIG5hbWUsIHZhbHVlKQogICAgICAgIGVsaWYgaGFzYXR0cihzZWxmLCBuYW1lKSBhbmQgaXNpbnN0YW5jZShnZXRhdHRyKHR5cGUoc2VsZiksIG5hbWUpLCBwcm9wZXJ0eSk6CiAgICAgICAgICAgIHNldChzZWxmLCBuYW1lLCB2YWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBBdHRyaWJ1dGVFcnJvcigiWW91IGNhbm5vdCBhZGQgaW5zdGFuY2UgYXR0cmlidXRlcyB0byAlcyIgJSBzZWxmKQogICAgcmV0dXJuIHNldF9pbnN0YW5jZV9hdHRyCgoKZGVmIF9zd2lnX3NldGF0dHJfbm9uZHluYW1pY19jbGFzc192YXJpYWJsZShzZXQpOgogICAgZGVmIHNldF9jbGFzc19hdHRyKGNscywgbmFtZSwgdmFsdWUpOgogICAgICAgIGlmIGhhc2F0dHIoY2xzLCBuYW1lKSBhbmQgbm90IGlzaW5zdGFuY2UoZ2V0YXR0cihjbHMsIG5hbWUpLCBwcm9wZXJ0eSk6CiAgICAgICAgICAgIHNldChjbHMsIG5hbWUsIHZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKCJZb3UgY2Fubm90IGFkZCBjbGFzcyBhdHRyaWJ1dGVzIHRvICVzIiAlIGNscykKICAgIHJldHVybiBzZXRfY2xhc3NfYXR0cgoKCmRlZiBfc3dpZ19hZGRfbWV0YWNsYXNzKG1ldGFjbGFzcyk6CiAgICAiIiJDbGFzcyBkZWNvcmF0b3IgZm9yIGFkZGluZyBhIG1ldGFjbGFzcyB0byBhIFNXSUcgd3JhcHBlZCBjbGFzcyAtIGEgc2xpbW1lZCBkb3duIHZlcnNpb24gb2Ygc2l4LmFkZF9tZXRhY2xhc3MiIiIKICAgIGRlZiB3cmFwcGVyKGNscyk6CiAgICAgICAgcmV0dXJuIG1ldGFjbGFzcyhjbHMuX19uYW1lX18sIGNscy5fX2Jhc2VzX18sIGNscy5fX2RpY3RfXy5jb3B5KCkpCiAgICByZXR1cm4gd3JhcHBlcgoKCmNsYXNzIF9Td2lnTm9uRHluYW1pY01ldGEodHlwZSk6CiAgICAiIiJNZXRhIGNsYXNzIHRvIGVuZm9yY2Ugbm9uZHluYW1pYyBhdHRyaWJ1dGVzIChubyBuZXcgYXR0cmlidXRlcykgZm9yIGEgY2xhc3MiIiIKICAgIF9fc2V0YXR0cl9fID0gX3N3aWdfc2V0YXR0cl9ub25keW5hbWljX2NsYXNzX3ZhcmlhYmxlKHR5cGUuX19zZXRhdHRyX18pCgoKY2xhc3MgUmVnaW9uQWRqdXN0bWVudChvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICByZWdpb24gPSBwcm9wZXJ0eShfZ3J0X3B5LlJlZ2lvbkFkanVzdG1lbnRfcmVnaW9uX2dldCwgX2dydF9weS5SZWdpb25BZGp1c3RtZW50X3JlZ2lvbl9zZXQpCiAgICBsYXllciA9IHByb3BlcnR5KF9ncnRfcHkuUmVnaW9uQWRqdXN0bWVudF9sYXllcl9nZXQsIF9ncnRfcHkuUmVnaW9uQWRqdXN0bWVudF9sYXllcl9zZXQpCiAgICBhZGp1c3RtZW50ID0gcHJvcGVydHkoX2dydF9weS5SZWdpb25BZGp1c3RtZW50X2FkanVzdG1lbnRfZ2V0LCBfZ3J0X3B5LlJlZ2lvbkFkanVzdG1lbnRfYWRqdXN0bWVudF9zZXQpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG1pbl94LCBtaW5feSwgbWF4X3gsIG1heF95LCBsLCBhZGpzdCk6CiAgICAgICAgX2dydF9weS5SZWdpb25BZGp1c3RtZW50X3N3aWdpbml0KHNlbGYsIF9ncnRfcHkubmV3X1JlZ2lvbkFkanVzdG1lbnQobWluX3gsIG1pbl95LCBtYXhfeCwgbWF4X3ksIGwsIGFkanN0KSkKCiAgICBkZWYgZ2V0UmVnaW9uKHNlbGYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5LlJlZ2lvbkFkanVzdG1lbnRfZ2V0UmVnaW9uKHNlbGYpCgogICAgZGVmIGdldExheWVyKHNlbGYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5LlJlZ2lvbkFkanVzdG1lbnRfZ2V0TGF5ZXIoc2VsZikKCiAgICBkZWYgZ2V0QWRqdXN0bWVudChzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5SZWdpb25BZGp1c3RtZW50X2dldEFkanVzdG1lbnQoc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfZ3J0X3B5LmRlbGV0ZV9SZWdpb25BZGp1c3RtZW50CgojIFJlZ2lzdGVyIFJlZ2lvbkFkanVzdG1lbnQgaW4gX2dydF9weToKX2dydF9weS5SZWdpb25BZGp1c3RtZW50X3N3aWdyZWdpc3RlcihSZWdpb25BZGp1c3RtZW50KQoKY2xhc3MgUm91dGVQb2ludFBpbnMob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgcGlucyA9IHByb3BlcnR5KF9ncnRfcHkuUm91dGVQb2ludFBpbnNfcGluc19nZXQsIF9ncnRfcHkuUm91dGVQb2ludFBpbnNfcGluc19zZXQpCiAgICBjb25uZWN0ZWQgPSBwcm9wZXJ0eShfZ3J0X3B5LlJvdXRlUG9pbnRQaW5zX2Nvbm5lY3RlZF9nZXQsIF9ncnRfcHkuUm91dGVQb2ludFBpbnNfY29ubmVjdGVkX3NldCkKCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgX2dydF9weS5Sb3V0ZVBvaW50UGluc19zd2lnaW5pdChzZWxmLCBfZ3J0X3B5Lm5ld19Sb3V0ZVBvaW50UGlucygpKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9ncnRfcHkuZGVsZXRlX1JvdXRlUG9pbnRQaW5zCgojIFJlZ2lzdGVyIFJvdXRlUG9pbnRQaW5zIGluIF9ncnRfcHk6Cl9ncnRfcHkuUm91dGVQb2ludFBpbnNfc3dpZ3JlZ2lzdGVyKFJvdXRlUG9pbnRQaW5zKQoKTmV0VHlwZV9DbG9jayA9IF9ncnRfcHkuTmV0VHlwZV9DbG9jawpOZXRUeXBlX1NpZ25hbCA9IF9ncnRfcHkuTmV0VHlwZV9TaWduYWwKTmV0VHlwZV9BbnRlbm5hID0gX2dydF9weS5OZXRUeXBlX0FudGVubmEKTmV0VHlwZV9BbGwgPSBfZ3J0X3B5Lk5ldFR5cGVfQWxsCmNsYXNzIEdsb2JhbFJvdXRlcihvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGxvZ2dlciwgY2FsbGJhY2tfaGFuZGxlciwgc3R0X2J1aWxkZXIsIGRiLCBzdGEsIGFudGVubmFfY2hlY2tlciwgb3BlbmRwKToKICAgICAgICBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zd2lnaW5pdChzZWxmLCBfZ3J0X3B5Lm5ld19HbG9iYWxSb3V0ZXIobG9nZ2VyLCBjYWxsYmFja19oYW5kbGVyLCBzdHRfYnVpbGRlciwgZGIsIHN0YSwgYW50ZW5uYV9jaGVja2VyLCBvcGVuZHApKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9ncnRfcHkuZGVsZXRlX0dsb2JhbFJvdXRlcgoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfY2xlYXIoc2VsZikKCiAgICBkZWYgc2V0QWRqdXN0bWVudChzZWxmLCBhZGp1c3RtZW50KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0QWRqdXN0bWVudChzZWxmLCBhZGp1c3RtZW50KQoKICAgIGRlZiBzZXRNaW5Sb3V0aW5nTGF5ZXIoc2VsZiwgbWluX2xheWVyKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0TWluUm91dGluZ0xheWVyKHNlbGYsIG1pbl9sYXllcikKCiAgICBkZWYgc2V0TWF4Um91dGluZ0xheWVyKHNlbGYsIG1heF9sYXllcik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldE1heFJvdXRpbmdMYXllcihzZWxmLCBtYXhfbGF5ZXIpCgogICAgZGVmIGdldE1pblJvdXRpbmdMYXllcihzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0TWluUm91dGluZ0xheWVyKHNlbGYpCgogICAgZGVmIGdldE1heFJvdXRpbmdMYXllcihzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0TWF4Um91dGluZ0xheWVyKHNlbGYpCgogICAgZGVmIHNldE1pbkxheWVyRm9yQ2xvY2soc2VsZiwgbWluX2xheWVyKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0TWluTGF5ZXJGb3JDbG9jayhzZWxmLCBtaW5fbGF5ZXIpCgogICAgZGVmIHNldE1heExheWVyRm9yQ2xvY2soc2VsZiwgbWF4X2xheWVyKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0TWF4TGF5ZXJGb3JDbG9jayhzZWxmLCBtYXhfbGF5ZXIpCgogICAgZGVmIGdldE1pbkxheWVyRm9yQ2xvY2soc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2dldE1pbkxheWVyRm9yQ2xvY2soc2VsZikKCiAgICBkZWYgZ2V0TWF4TGF5ZXJGb3JDbG9jayhzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0TWF4TGF5ZXJGb3JDbG9jayhzZWxmKQoKICAgIGRlZiBzZXRDcml0aWNhbE5ldHNQZXJjZW50YWdlKHNlbGYsIGNyaXRpY2FsX25ldHNfcGVyY2VudGFnZSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldENyaXRpY2FsTmV0c1BlcmNlbnRhZ2Uoc2VsZiwgY3JpdGljYWxfbmV0c19wZXJjZW50YWdlKQoKICAgIGRlZiBhZGRMYXllckFkanVzdG1lbnQoc2VsZiwgbGF5ZXIsIHJlZHVjdGlvbl9wZXJjZW50YWdlKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfYWRkTGF5ZXJBZGp1c3RtZW50KHNlbGYsIGxheWVyLCByZWR1Y3Rpb25fcGVyY2VudGFnZSkKCiAgICBkZWYgYWRkUmVnaW9uQWRqdXN0bWVudChzZWxmLCBtaW5feCwgbWluX3ksIG1heF94LCBtYXhfeSwgbGF5ZXIsIHJlZHVjdGlvbl9wZXJjZW50YWdlKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfYWRkUmVnaW9uQWRqdXN0bWVudChzZWxmLCBtaW5feCwgbWluX3ksIG1heF94LCBtYXhfeSwgbGF5ZXIsIHJlZHVjdGlvbl9wZXJjZW50YWdlKQoKICAgIGRlZiBzZXRWZXJib3NlKHNlbGYsIHYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXRWZXJib3NlKHNlbGYsIHYpCgogICAgZGVmIHNldENvbmdlc3Rpb25JdGVyYXRpb25zKHNlbGYsIGl0ZXJhdGlvbnMpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXRDb25nZXN0aW9uSXRlcmF0aW9ucyhzZWxmLCBpdGVyYXRpb25zKQoKICAgIGRlZiBzZXRDb25nZXN0aW9uUmVwb3J0SXRlclN0ZXAoc2VsZiwgY29uZ2VzdGlvbl9yZXBvcnRfaXRlcl9zdGVwKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0Q29uZ2VzdGlvblJlcG9ydEl0ZXJTdGVwKHNlbGYsIGNvbmdlc3Rpb25fcmVwb3J0X2l0ZXJfc3RlcCkKCiAgICBkZWYgc2V0Q29uZ2VzdGlvblJlcG9ydEZpbGUoc2VsZiwgZmlsZV9uYW1lKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0Q29uZ2VzdGlvblJlcG9ydEZpbGUoc2VsZiwgZmlsZV9uYW1lKQoKICAgIGRlZiBzZXRHcmlkT3JpZ2luKHNlbGYsIHgsIHkpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXRHcmlkT3JpZ2luKHNlbGYsIHgsIHkpCgogICAgZGVmIHNldEFsbG93Q29uZ2VzdGlvbihzZWxmLCBhbGxvd19jb25nZXN0aW9uKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0QWxsb3dDb25nZXN0aW9uKHNlbGYsIGFsbG93X2Nvbmdlc3Rpb24pCgogICAgZGVmIHNldFJlc2lzdGFuY2VBd2FyZShzZWxmLCByZXNpc3RhbmNlX2F3YXJlKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0UmVzaXN0YW5jZUF3YXJlKHNlbGYsIHJlc2lzdGFuY2VfYXdhcmUpCgogICAgZGVmIHNldE1hY3JvRXh0ZW5zaW9uKHNlbGYsIG1hY3JvX2V4dGVuc2lvbik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldE1hY3JvRXh0ZW5zaW9uKHNlbGYsIG1hY3JvX2V4dGVuc2lvbikKCiAgICBkZWYgc2V0VXNlQ1VHUihzZWxmLCB1c2VfY3Vncik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldFVzZUNVR1Ioc2VsZiwgdXNlX2N1Z3IpCgogICAgZGVmIHJlYWRHdWlkZXMoc2VsZiwgZmlsZV9uYW1lKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfcmVhZEd1aWRlcyhzZWxmLCBmaWxlX25hbWUpCgogICAgZGVmIGxvYWRHdWlkZXNGcm9tREIoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2xvYWRHdWlkZXNGcm9tREIoc2VsZikKCiAgICBkZWYgZW5zdXJlUGluc1Bvc2l0aW9ucyhzZWxmLCBkYl9uZXQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9lbnN1cmVQaW5zUG9zaXRpb25zKHNlbGYsIGRiX25ldCkKCiAgICBkZWYgc2F2ZUd1aWRlc0Zyb21GaWxlKHNlbGYsIGd1aWRlcyk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NhdmVHdWlkZXNGcm9tRmlsZShzZWxmLCBndWlkZXMpCgogICAgZGVmIHNhdmVHdWlkZXMoc2VsZiwgbmV0cyk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NhdmVHdWlkZXMoc2VsZiwgbmV0cykKCiAgICBkZWYgd3JpdGVTZWdtZW50cyhzZWxmLCBmaWxlX25hbWUpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl93cml0ZVNlZ21lbnRzKHNlbGYsIGZpbGVfbmFtZSkKCiAgICBkZWYgcmVhZFNlZ21lbnRzKHNlbGYsIGZpbGVfbmFtZSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3JlYWRTZWdtZW50cyhzZWxmLCBmaWxlX25hbWUpCgogICAgZGVmIG5ldElzQ292ZXJlZChzZWxmLCBkYl9uZXQsIHBpbnNfbm90X2NvdmVyZWQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9uZXRJc0NvdmVyZWQoc2VsZiwgZGJfbmV0LCBwaW5zX25vdF9jb3ZlcmVkKQoKICAgIGRlZiBzZWdtZW50SXNMaW5lKHNlbGYsIHNlZ21lbnQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZWdtZW50SXNMaW5lKHNlbGYsIHNlZ21lbnQpCgogICAgZGVmIHNlZ21lbnRDb3ZlcnNQaW4oc2VsZiwgc2VnbWVudCwgcGluKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2VnbWVudENvdmVyc1BpbihzZWxmLCBzZWdtZW50LCBwaW4pCgogICAgZGVmIGJ1aWxkTmV0R3JhcGgoc2VsZiwgbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfYnVpbGROZXRHcmFwaChzZWxmLCBuZXQpCgogICAgZGVmIGlzQ29ubmVjdGVkKHNlbGYsIG5ldCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2lzQ29ubmVjdGVkKHNlbGYsIG5ldCkKCiAgICBkZWYgc2VnbWVudHNDb25uZWN0KHNlbGYsIHNlZ21lbnQxLCBzZWdtZW50Mik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NlZ21lbnRzQ29ubmVjdChzZWxmLCBzZWdtZW50MSwgc2VnbWVudDIpCgogICAgZGVmIGlzQ292ZXJpbmdQaW4oc2VsZiwgbmV0LCBzZWdtZW50KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfaXNDb3ZlcmluZ1BpbihzZWxmLCBuZXQsIHNlZ21lbnQpCgogICAgZGVmIGluaXRGYXN0Um91dGUoc2VsZiwgbWluX3JvdXRpbmdfbGF5ZXIsIG1heF9yb3V0aW5nX2xheWVyKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfaW5pdEZhc3RSb3V0ZShzZWxmLCBtaW5fcm91dGluZ19sYXllciwgbWF4X3JvdXRpbmdfbGF5ZXIpCgogICAgZGVmIGluaXRGYXN0Um91dGVJbmNyKHNlbGYsIG5ldHMpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9pbml0RmFzdFJvdXRlSW5jcihzZWxmLCBuZXRzKQoKICAgIGRlZiByb3V0ZUxheWVyTGVuZ3RocyhzZWxmLCBkYl9uZXQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9yb3V0ZUxheWVyTGVuZ3RocyhzZWxmLCBkYl9uZXQpCgogICAgZGVmIGdsb2JhbFJvdXRlKHNlbGYsIHNhdmVfZ3VpZGVzPUZhbHNlLCBzdGFydF9pbmNyZW1lbnRhbD1GYWxzZSwgZW5kX2luY3JlbWVudGFsPUZhbHNlKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2xvYmFsUm91dGUoc2VsZiwgc2F2ZV9ndWlkZXMsIHN0YXJ0X2luY3JlbWVudGFsLCBlbmRfaW5jcmVtZW50YWwpCgogICAgZGVmIHNhdmVDb25nZXN0aW9uKHNlbGYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zYXZlQ29uZ2VzdGlvbihzZWxmKQoKICAgIGRlZiBnZXRSb3V0ZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2dldFJvdXRlcyhzZWxmKQoKICAgIGRlZiBnZXROZXQoc2VsZiwgZGJfbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0TmV0KHNlbGYsIGRiX25ldCkKCiAgICBkZWYgZ2V0VGlsZVNpemUoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2dldFRpbGVTaXplKHNlbGYpCgogICAgZGVmIGlzTm9uTGVhZkNsb2NrKHNlbGYsIGRiX25ldCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2lzTm9uTGVhZkNsb2NrKHNlbGYsIGRiX25ldCkKCiAgICBkZWYgaGFzQXZhaWxhYmxlUmVzb3VyY2VzKHNlbGYsIGlzX2hvcml6b250YWwsIHBvc194LCBwb3NfeSwgbGF5ZXJfbGV2ZWwsIGRiX25ldCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2hhc0F2YWlsYWJsZVJlc291cmNlcyhzZWxmLCBpc19ob3Jpem9udGFsLCBwb3NfeCwgcG9zX3ksIGxheWVyX2xldmVsLCBkYl9uZXQpCgogICAgZGVmIGdldFBvc2l0aW9uT25HcmlkKHNlbGYsIHJlYWxfcG9zaXRpb24pOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9nZXRQb3NpdGlvbk9uR3JpZChzZWxmLCByZWFsX3Bvc2l0aW9uKQoKICAgIGRlZiByZXBhaXJBbnRlbm5hcyhzZWxmLCBkaW9kZV9tdGVybSwgaXRlcmF0aW9ucywgcmF0aW9fbWFyZ2luLCBudW1fdGhyZWFkcz0xKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfcmVwYWlyQW50ZW5uYXMoc2VsZiwgZGlvZGVfbXRlcm0sIGl0ZXJhdGlvbnMsIHJhdGlvX21hcmdpbiwgbnVtX3RocmVhZHMpCgogICAgZGVmIHVwZGF0ZVJlc291cmNlcyhzZWxmLCBpbml0X3gsIGluaXRfeSwgZmluYWxfeCwgZmluYWxfeSwgbGF5ZXJfbGV2ZWwsIHVzZWQsIGRiX25ldCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3VwZGF0ZVJlc291cmNlcyhzZWxmLCBpbml0X3gsIGluaXRfeSwgZmluYWxfeCwgZmluYWxfeSwgbGF5ZXJfbGV2ZWwsIHVzZWQsIGRiX25ldCkKCiAgICBkZWYgdXBkYXRlRmFzdFJvdXRlR3JpZHNMYXllcihzZWxmLCBpbml0X3gsIGluaXRfeSwgZmluYWxfeCwgZmluYWxfeSwgbGF5ZXJfbGV2ZWwsIG5ld19sYXllcl9sZXZlbCwgZGJfbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfdXBkYXRlRmFzdFJvdXRlR3JpZHNMYXllcihzZWxmLCBpbml0X3gsIGluaXRfeSwgZmluYWxfeCwgZmluYWxfeSwgbGF5ZXJfbGV2ZWwsIG5ld19sYXllcl9sZXZlbCwgZGJfbmV0KQoKICAgIGRlZiBhZGREaXJ0eU5ldChzZWxmLCBuZXQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9hZGREaXJ0eU5ldChzZWxmLCBuZXQpCgogICAgZGVmIGdldERpcnR5TmV0cyhzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0RGlydHlOZXRzKHNlbGYpCgogICAgZGVmIGhhdmVSb3V0ZXMoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2hhdmVSb3V0ZXMoc2VsZikKCiAgICBkZWYgZGVzaWduSXNQbGFjZWQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2Rlc2lnbklzUGxhY2VkKHNlbGYpCgogICAgZGVmIGhhdmVEZXRhaWxlZFJvdXRlcyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2hhdmVEZXRhaWxlZFJvdXRlcyhzZWxmLCAqYXJncykKCiAgICBkZWYgYWRkTmV0VG9Sb3V0ZShzZWxmLCBkYl9uZXQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9hZGROZXRUb1JvdXRlKHNlbGYsIGRiX25ldCkKCiAgICBkZWYgZ2V0TmV0c1RvUm91dGUoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2dldE5ldHNUb1JvdXRlKHNlbGYpCgogICAgZGVmIG1lcmdlTmV0c1JvdXRpbmcoc2VsZiwgZGJfbmV0MSwgZGJfbmV0Mik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX21lcmdlTmV0c1JvdXRpbmcoc2VsZiwgZGJfbmV0MSwgZGJfbmV0MikKCiAgICBkZWYgY29ubmVjdFJvdXRpbmcoc2VsZiwgZGJfbmV0MSwgZGJfbmV0Mik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2Nvbm5lY3RSb3V0aW5nKHNlbGYsIGRiX25ldDEsIGRiX25ldDIpCgogICAgZGVmIGZpbmRCdWZmZXJQaW5Qb3N0aW9ucyhzZWxmLCBuZXQxLCBuZXQyLCBwaW5fcG9zMSwgcGluX3BvczIpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9maW5kQnVmZmVyUGluUG9zdGlvbnMoc2VsZiwgbmV0MSwgbmV0MiwgcGluX3BvczEsIHBpbl9wb3MyKQoKICAgIGRlZiBmaW5kVG9wTGF5ZXJPdmVyUG9zaXRpb24oc2VsZiwgcGluX3Bvcywgcm91dGUpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9maW5kVG9wTGF5ZXJPdmVyUG9zaXRpb24oc2VsZiwgcGluX3Bvcywgcm91dGUpCgogICAgZGVmIGNyZWF0ZUNvbm5lY3Rpb25Gb3JQb3NpdGlvbnMoc2VsZiwgcGluX3BvczEsIHBpbl9wb3MyLCBsYXllcjEsIGxheWVyMik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2NyZWF0ZUNvbm5lY3Rpb25Gb3JQb3NpdGlvbnMoc2VsZiwgcGluX3BvczEsIHBpbl9wb3MyLCBsYXllcjEsIGxheWVyMikKCiAgICBkZWYgaW5zZXJ0Vmlhc0ZvckNvbm5lY3Rpb24oc2VsZiwgY29ubmVjdGlvbiwgdmlhX3BvcywgbGF5ZXIsIGNvbm5fbGF5ZXIpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9pbnNlcnRWaWFzRm9yQ29ubmVjdGlvbihzZWxmLCBjb25uZWN0aW9uLCB2aWFfcG9zLCBsYXllciwgY29ubl9sYXllcikKCiAgICBkZWYgZ2V0QmxvY2thZ2Uoc2VsZiwgbGF5ZXIsIHgsIHksIGJsb2NrYWdlX2gsIGJsb2NrYWdlX3YpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9nZXRCbG9ja2FnZShzZWxmLCBsYXllciwgeCwgeSwgYmxvY2thZ2VfaCwgYmxvY2thZ2VfdikKCiAgICBkZWYgc2V0U2VlZChzZWxmLCBzZWVkKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0U2VlZChzZWxmLCBzZWVkKQoKICAgIGRlZiBzZXRDYXBhY2l0aWVzUGVydHVyYmF0aW9uUGVyY2VudGFnZShzZWxmLCBwZXJjZW50YWdlKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfc2V0Q2FwYWNpdGllc1BlcnR1cmJhdGlvblBlcmNlbnRhZ2Uoc2VsZiwgcGVyY2VudGFnZSkKCiAgICBkZWYgc2V0UGVydHVyYmF0aW9uQW1vdW50KHNlbGYsIHBlcnR1cmJhdGlvbik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldFBlcnR1cmJhdGlvbkFtb3VudChzZWxmLCBwZXJ0dXJiYXRpb24pCgogICAgZGVmIHBlcnR1cmJDYXBhY2l0aWVzKHNlbGYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9wZXJ0dXJiQ2FwYWNpdGllcyhzZWxmKQoKICAgIGRlZiBzZXREZWJ1Z05ldChzZWxmLCBuZXQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXREZWJ1Z05ldChzZWxmLCBuZXQpCgogICAgZGVmIHNldERlYnVnU3RlaW5lclRyZWUoc2VsZiwgc3RlaW5lclRyZWUpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXREZWJ1Z1N0ZWluZXJUcmVlKHNlbGYsIHN0ZWluZXJUcmVlKQoKICAgIGRlZiBzZXREZWJ1Z1JlY3RpbGluZWFyU1RyZWUoc2VsZiwgcmVjdGlsaW5lYXJTVHJlZSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldERlYnVnUmVjdGlsaW5lYXJTVHJlZShzZWxmLCByZWN0aWxpbmVhclNUcmVlKQoKICAgIGRlZiBzZXREZWJ1Z1RyZWUyRChzZWxmLCB0cmVlMkQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXREZWJ1Z1RyZWUyRChzZWxmLCB0cmVlMkQpCgogICAgZGVmIHNldERlYnVnVHJlZTNEKHNlbGYsIHRyZWUzRCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3NldERlYnVnVHJlZTNEKHNlbGYsIHRyZWUzRCkKCiAgICBkZWYgc2V0U3R0SW5wdXRGaWxlbmFtZShzZWxmLCBmaWxlX25hbWUpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXRTdHRJbnB1dEZpbGVuYW1lKHNlbGYsIGZpbGVfbmFtZSkKCiAgICBkZWYgc2F2ZVN0dElucHV0RmlsZShzZWxmLCBuZXQpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zYXZlU3R0SW5wdXRGaWxlKHNlbGYsIG5ldCkKCiAgICBkZWYgcmVwb3J0TmV0TGF5ZXJXaXJlbGVuZ3RocyhzZWxmLCBkYl9uZXQsIG91dCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3JlcG9ydE5ldExheWVyV2lyZWxlbmd0aHMoc2VsZiwgZGJfbmV0LCBvdXQpCgogICAgZGVmIHJlcG9ydExheWVyV2lyZUxlbmd0aHMoc2VsZiwgZ2xvYmFsX3JvdXRlLCBkZXRhaWxlZF9yb3V0ZSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX3JlcG9ydExheWVyV2lyZUxlbmd0aHMoc2VsZiwgZ2xvYmFsX3JvdXRlLCBkZXRhaWxlZF9yb3V0ZSkKCiAgICBkZWYgZ2xvYmFsUm91dGluZ1RvQm94KHNlbGYsIHJvdXRlKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2xvYmFsUm91dGluZ1RvQm94KHNlbGYsIHJvdXRlKQoKICAgIGRlZiBib3hUb0dsb2JhbFJvdXRpbmcoc2VsZiwgcm91dGVfYmRzLCBsYXllciwgdmlhX2xheWVyLCByb3V0ZSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2JveFRvR2xvYmFsUm91dGluZyhzZWxmLCByb3V0ZV9iZHMsIGxheWVyLCB2aWFfbGF5ZXIsIHJvdXRlKQoKICAgIGRlZiB1cGRhdGVWaWFzKHNlbGYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl91cGRhdGVWaWFzKHNlbGYpCgogICAgZGVmIHJlcG9ydE5ldFdpcmVMZW5ndGgoc2VsZiwgbmV0LCBnbG9iYWxfcm91dGUsIGRldGFpbGVkX3JvdXRlLCB2ZXJib3NlLCBmaWxlX25hbWUpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9yZXBvcnROZXRXaXJlTGVuZ3RoKHNlbGYsIG5ldCwgZ2xvYmFsX3JvdXRlLCBkZXRhaWxlZF9yb3V0ZSwgdmVyYm9zZSwgZmlsZV9uYW1lKQoKICAgIGRlZiByZXBvcnROZXREZXRhaWxlZFJvdXRlV0woc2VsZiwgd2lyZSwgb3V0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfcmVwb3J0TmV0RGV0YWlsZWRSb3V0ZVdMKHNlbGYsIHdpcmUsIG91dCkKCiAgICBkZWYgY3JlYXRlV0xSZXBvcnRGaWxlKHNlbGYsIGZpbGVfbmFtZSwgdmVyYm9zZSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2NyZWF0ZVdMUmVwb3J0RmlsZShzZWxmLCBmaWxlX25hbWUsIHZlcmJvc2UpCgogICAgZGVmIGdldFBpbkdyaWRQb3NpdGlvbnMoc2VsZiwgZGJfbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0UGluR3JpZFBvc2l0aW9ucyhzZWxmLCBkYl9uZXQpCgogICAgZGVmIGZpbmRQaW5BY2Nlc3NQb2ludFBvc2l0aW9ucyhzZWxmLCBwaW4sIGFwX3Bvc2l0aW9ucyk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2ZpbmRQaW5BY2Nlc3NQb2ludFBvc2l0aW9ucyhzZWxmLCBwaW4sIGFwX3Bvc2l0aW9ucykKCiAgICBkZWYgZ2V0TmV0TGF5ZXJSYW5nZShzZWxmLCBkYl9uZXQsIG1pbl9sYXllciwgbWF4X2xheWVyKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0TmV0TGF5ZXJSYW5nZShzZWxmLCBkYl9uZXQsIG1pbl9sYXllciwgbWF4X2xheWVyKQoKICAgIGRlZiBnZXRHcmlkU2l6ZShzZWxmLCB4X2dyaWRzLCB5X2dyaWRzKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0R3JpZFNpemUoc2VsZiwgeF9ncmlkcywgeV9ncmlkcykKCiAgICBkZWYgZ2V0R3JpZFRpbGVTaXplKHNlbGYpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9nZXRHcmlkVGlsZVNpemUoc2VsZikKCiAgICBkZWYgZ2V0TWluTWF4TGF5ZXIoc2VsZiwgbWluX2xheWVyLCBtYXhfbGF5ZXIpOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9nZXRNaW5NYXhMYXllcihzZWxmLCBtaW5fbGF5ZXIsIG1heF9sYXllcikKCiAgICBkZWYgZ2V0Q2FwYWNpdHlSZWR1Y3Rpb25EYXRhKHNlbGYsIGNhcF9yZWRfZGF0YSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2dldENhcGFjaXR5UmVkdWN0aW9uRGF0YShzZWxmLCBjYXBfcmVkX2RhdGEpCgogICAgZGVmIGlzSW5pdGlhbGl6ZWQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2lzSW5pdGlhbGl6ZWQoc2VsZikKCiAgICBkZWYgaXNDb25nZXN0ZWQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2lzQ29uZ2VzdGVkKHNlbGYpCgogICAgZGVmIHNldERiQmxvY2soc2VsZiwgYmxvY2spOgogICAgICAgIHJldHVybiBfZ3J0X3B5Lkdsb2JhbFJvdXRlcl9zZXREYkJsb2NrKHNlbGYsIGJsb2NrKQoKICAgIGRlZiBnZXRSZW5kZXJlcihzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZ2V0UmVuZGVyZXIoc2VsZikKCiAgICBkZWYgZGIoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2RiKHNlbGYpCgogICAgZGVmIGZhc3Ryb3V0ZShzZWxmKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfZmFzdHJvdXRlKHNlbGYpCgogICAgZGVmIGdldFJ1ZHkoc2VsZik6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR2xvYmFsUm91dGVyX2dldFJ1ZHkoc2VsZikKCiAgICBkZWYgd3JpdGVQaW5Mb2NhdGlvbnMoc2VsZiwgZmlsZV9uYW1lKToKICAgICAgICByZXR1cm4gX2dydF9weS5HbG9iYWxSb3V0ZXJfd3JpdGVQaW5Mb2NhdGlvbnMoc2VsZiwgZmlsZV9uYW1lKQoKIyBSZWdpc3RlciBHbG9iYWxSb3V0ZXIgaW4gX2dydF9weToKX2dydF9weS5HbG9iYWxSb3V0ZXJfc3dpZ3JlZ2lzdGVyKEdsb2JhbFJvdXRlcikKCgpkZWYgZ2V0SVRlcm1OYW1lKGl0ZXJtKToKICAgIHJldHVybiBfZ3J0X3B5LmdldElUZXJtTmFtZShpdGVybSkKCmRlZiBnZXRMYXllck5hbWUobGF5ZXJfaWR4LCBkYik6CiAgICByZXR1cm4gX2dydF9weS5nZXRMYXllck5hbWUobGF5ZXJfaWR4LCBkYikKY2xhc3MgR1JvdXRlRGJDYmsob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBncm91dGVyKToKICAgICAgICBfZ3J0X3B5LkdSb3V0ZURiQ2JrX3N3aWdpbml0KHNlbGYsIF9ncnRfcHkubmV3X0dSb3V0ZURiQ2JrKGdyb3V0ZXIpKQoKICAgIGRlZiBpbkRiUG9zdE1vdmVJbnN0KHNlbGYsIGluc3QpOgogICAgICAgIHJldHVybiBfZ3J0X3B5LkdSb3V0ZURiQ2JrX2luRGJQb3N0TW92ZUluc3Qoc2VsZiwgaW5zdCkKCiAgICBkZWYgaW5EYkluc3RTd2FwTWFzdGVyQWZ0ZXIoc2VsZiwgaW5zdCk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR1JvdXRlRGJDYmtfaW5EYkluc3RTd2FwTWFzdGVyQWZ0ZXIoc2VsZiwgaW5zdCkKCiAgICBkZWYgaW5EYk5ldERlc3Ryb3koc2VsZiwgbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HUm91dGVEYkNia19pbkRiTmV0RGVzdHJveShzZWxmLCBuZXQpCgogICAgZGVmIGluRGJOZXRDcmVhdGUoc2VsZiwgbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HUm91dGVEYkNia19pbkRiTmV0Q3JlYXRlKHNlbGYsIG5ldCkKCiAgICBkZWYgaW5EYk5ldFByZU1lcmdlKHNlbGYsIHByZXNlcnZlZF9uZXQsIHJlbW92ZWRfbmV0KToKICAgICAgICByZXR1cm4gX2dydF9weS5HUm91dGVEYkNia19pbkRiTmV0UHJlTWVyZ2Uoc2VsZiwgcHJlc2VydmVkX25ldCwgcmVtb3ZlZF9uZXQpCgogICAgZGVmIGluRGJJVGVybVByZURpc2Nvbm5lY3Qoc2VsZiwgaXRlcm0pOgogICAgICAgIHJldHVybiBfZ3J0X3B5LkdSb3V0ZURiQ2JrX2luRGJJVGVybVByZURpc2Nvbm5lY3Qoc2VsZiwgaXRlcm0pCgogICAgZGVmIGluRGJJVGVybVBvc3RDb25uZWN0KHNlbGYsIGl0ZXJtKToKICAgICAgICByZXR1cm4gX2dydF9weS5HUm91dGVEYkNia19pbkRiSVRlcm1Qb3N0Q29ubmVjdChzZWxmLCBpdGVybSkKCiAgICBkZWYgaW5EYklUZXJtUG9zdFNldEFjY2Vzc1BvaW50cyhzZWxmLCBpdGVybSk6CiAgICAgICAgcmV0dXJuIF9ncnRfcHkuR1JvdXRlRGJDYmtfaW5EYklUZXJtUG9zdFNldEFjY2Vzc1BvaW50cyhzZWxmLCBpdGVybSkKCiAgICBkZWYgaW5EYkJUZXJtUG9zdENvbm5lY3Qoc2VsZiwgYnRlcm0pOgogICAgICAgIHJldHVybiBfZ3J0X3B5LkdSb3V0ZURiQ2JrX2luRGJCVGVybVBvc3RDb25uZWN0KHNlbGYsIGJ0ZXJtKQoKICAgIGRlZiBpbkRiQlRlcm1QcmVEaXNjb25uZWN0KHNlbGYsIGJ0ZXJtKToKICAgICAgICByZXR1cm4gX2dydF9weS5HUm91dGVEYkNia19pbkRiQlRlcm1QcmVEaXNjb25uZWN0KHNlbGYsIGJ0ZXJtKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9ncnRfcHkuZGVsZXRlX0dSb3V0ZURiQ2JrCgojIFJlZ2lzdGVyIEdSb3V0ZURiQ2JrIGluIF9ncnRfcHk6Cl9ncnRfcHkuR1JvdXRlRGJDYmtfc3dpZ3JlZ2lzdGVyKEdSb3V0ZURiQ2JrKQoKY2xhc3MgSW5jcmVtZW50YWxHUm91dGUob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBncm91dGUsIGJsb2NrKToKICAgICAgICBfZ3J0X3B5LkluY3JlbWVudGFsR1JvdXRlX3N3aWdpbml0KHNlbGYsIF9ncnRfcHkubmV3X0luY3JlbWVudGFsR1JvdXRlKGdyb3V0ZSwgYmxvY2spKQoKICAgIGRlZiB1cGRhdGVSb3V0ZXMoc2VsZiwgc2F2ZV9ndWlkZXM9RmFsc2UpOgogICAgICAgIHJldHVybiBfZ3J0X3B5LkluY3JlbWVudGFsR1JvdXRlX3VwZGF0ZVJvdXRlcyhzZWxmLCBzYXZlX2d1aWRlcykKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfZ3J0X3B5LmRlbGV0ZV9JbmNyZW1lbnRhbEdSb3V0ZQoKIyBSZWdpc3RlciBJbmNyZW1lbnRhbEdSb3V0ZSBpbiBfZ3J0X3B5OgpfZ3J0X3B5LkluY3JlbWVudGFsR1JvdXRlX3N3aWdyZWdpc3RlcihJbmNyZW1lbnRhbEdSb3V0ZSkKCgoK",
nullptr};
} // end namespace grt
