namespace pdn {
const char* pdn_py_python_inits[] = {
"IyBUaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IFNXSUcgKGh0dHA6Ly93d3cuc3dpZy5vcmcpLgojIFZlcnNpb24gNC4wLjAKIwojIERvIG5vdCBtYWtlIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmctLW1vZGlmeQojIHRoZSBTV0lHIGludGVyZmFjZSBmaWxlIGluc3RlYWQuCgpmcm9tIHN5cyBpbXBvcnQgdmVyc2lvbl9pbmZvIGFzIF9zd2lnX3B5dGhvbl92ZXJzaW9uX2luZm8KaWYgX3N3aWdfcHl0aG9uX3ZlcnNpb25faW5mbyA8ICgyLCA3LCAwKToKICAgIHJhaXNlIFJ1bnRpbWVFcnJvcignUHl0aG9uIDIuNyBvciBsYXRlciByZXF1aXJlZCcpCgojIEltcG9ydCB0aGUgbG93LWxldmVsIEMvQysrIG1vZHVsZQppZiBfX3BhY2thZ2VfXyBvciAnLicgaW4gX19uYW1lX186CiAgICBmcm9tIC4gaW1wb3J0IF9wZG5fcHkKZWxzZToKICAgIGltcG9ydCBfcGRuX3B5Cgp0cnk6CiAgICBpbXBvcnQgYnVpbHRpbnMgYXMgX19idWlsdGluX18KZXhjZXB0IEltcG9ydEVycm9yOgogICAgaW1wb3J0IF9fYnVpbHRpbl9fCgpkZWYgX3N3aWdfc2V0YXR0cl9ub25keW5hbWljKHNlbGYsIGNsYXNzX3R5cGUsIG5hbWUsIHZhbHVlLCBzdGF0aWM9MSk6CiAgICBpZiBuYW1lID09ICJ0aGlzb3duIjoKICAgICAgICByZXR1cm4gc2VsZi50aGlzLm93bih2YWx1ZSkKICAgIGlmIG5hbWUgPT0gInRoaXMiOgogICAgICAgIGlmIHR5cGUodmFsdWUpLl9fbmFtZV9fID09ICdTd2lnUHlPYmplY3QnOgogICAgICAgICAgICBzZWxmLl9fZGljdF9fW25hbWVdID0gdmFsdWUKICAgICAgICAgICAgcmV0dXJuCiAgICBtZXRob2QgPSBjbGFzc190eXBlLl9fc3dpZ19zZXRtZXRob2RzX18uZ2V0KG5hbWUsIE5vbmUpCiAgICBpZiBtZXRob2Q6CiAgICAgICAgcmV0dXJuIG1ldGhvZChzZWxmLCB2YWx1ZSkKICAgIGlmIG5vdCBzdGF0aWM6CiAgICAgICAgb2JqZWN0Ll9fc2V0YXR0cl9fKHNlbGYsIG5hbWUsIHZhbHVlKQogICAgZWxzZToKICAgICAgICByYWlzZSBBdHRyaWJ1dGVFcnJvcigiWW91IGNhbm5vdCBhZGQgYXR0cmlidXRlcyB0byAlcyIgJSBzZWxmKQoKCmRlZiBfc3dpZ19zZXRhdHRyKHNlbGYsIGNsYXNzX3R5cGUsIG5hbWUsIHZhbHVlKToKICAgIHJldHVybiBfc3dpZ19zZXRhdHRyX25vbmR5bmFtaWMoc2VsZiwgY2xhc3NfdHlwZSwgbmFtZSwgdmFsdWUsIDApCgoKZGVmIF9zd2lnX2dldGF0dHIoc2VsZiwgY2xhc3NfdHlwZSwgbmFtZSk6CiAgICBpZiBuYW1lID09ICJ0aGlzb3duIjoKICAgICAgICByZXR1cm4gc2VsZi50aGlzLm93bigpCiAgICBtZXRob2QgPSBjbGFzc190eXBlLl9fc3dpZ19nZXRtZXRob2RzX18uZ2V0KG5hbWUsIE5vbmUpCiAgICBpZiBtZXRob2Q6CiAgICAgICAgcmV0dXJuIG1ldGhvZChzZWxmKQogICAgcmFpc2UgQXR0cmlidXRlRXJyb3IoIiclcycgb2JqZWN0IGhhcyBubyBhdHRyaWJ1dGUgJyVzJyIgJSAoY2xhc3NfdHlwZS5fX25hbWVfXywgbmFtZSkpCgoKZGVmIF9zd2lnX3JlcHIoc2VsZik6CiAgICB0cnk6CiAgICAgICAgc3RydGhpcyA9ICJwcm94eSBvZiAiICsgc2VsZi50aGlzLl9fcmVwcl9fKCkKICAgIGV4Y2VwdCBfX2J1aWx0aW5fXy5FeGNlcHRpb246CiAgICAgICAgc3RydGhpcyA9ICIiCiAgICByZXR1cm4gIjwlcy4lczsgJXMgPiIgJSAoc2VsZi5fX2NsYXNzX18uX19tb2R1bGVfXywgc2VsZi5fX2NsYXNzX18uX19uYW1lX18sIHN0cnRoaXMsKQoKCmRlZiBfc3dpZ19zZXRhdHRyX25vbmR5bmFtaWNfaW5zdGFuY2VfdmFyaWFibGUoc2V0KToKICAgIGRlZiBzZXRfaW5zdGFuY2VfYXR0cihzZWxmLCBuYW1lLCB2YWx1ZSk6CiAgICAgICAgaWYgbmFtZSA9PSAidGhpc293biI6CiAgICAgICAgICAgIHNlbGYudGhpcy5vd24odmFsdWUpCiAgICAgICAgZWxpZiBuYW1lID09ICJ0aGlzIjoKICAgICAgICAgICAgc2V0KHNlbGYsIG5hbWUsIHZhbHVlKQogICAgICAgIGVsaWYgaGFzYXR0cihzZWxmLCBuYW1lKSBhbmQgaXNpbnN0YW5jZShnZXRhdHRyKHR5cGUoc2VsZiksIG5hbWUpLCBwcm9wZXJ0eSk6CiAgICAgICAgICAgIHNldChzZWxmLCBuYW1lLCB2YWx1ZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBBdHRyaWJ1dGVFcnJvcigiWW91IGNhbm5vdCBhZGQgaW5zdGFuY2UgYXR0cmlidXRlcyB0byAlcyIgJSBzZWxmKQogICAgcmV0dXJuIHNldF9pbnN0YW5jZV9hdHRyCgoKZGVmIF9zd2lnX3NldGF0dHJfbm9uZHluYW1pY19jbGFzc192YXJpYWJsZShzZXQpOgogICAgZGVmIHNldF9jbGFzc19hdHRyKGNscywgbmFtZSwgdmFsdWUpOgogICAgICAgIGlmIGhhc2F0dHIoY2xzLCBuYW1lKSBhbmQgbm90IGlzaW5zdGFuY2UoZ2V0YXR0cihjbHMsIG5hbWUpLCBwcm9wZXJ0eSk6CiAgICAgICAgICAgIHNldChjbHMsIG5hbWUsIHZhbHVlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKCJZb3UgY2Fubm90IGFkZCBjbGFzcyBhdHRyaWJ1dGVzIHRvICVzIiAlIGNscykKICAgIHJldHVybiBzZXRfY2xhc3NfYXR0cgoKCmRlZiBfc3dpZ19hZGRfbWV0YWNsYXNzKG1ldGFjbGFzcyk6CiAgICAiIiJDbGFzcyBkZWNvcmF0b3IgZm9yIGFkZGluZyBhIG1ldGFjbGFzcyB0byBhIFNXSUcgd3JhcHBlZCBjbGFzcyAtIGEgc2xpbW1lZCBkb3duIHZlcnNpb24gb2Ygc2l4LmFkZF9tZXRhY2xhc3MiIiIKICAgIGRlZiB3cmFwcGVyKGNscyk6CiAgICAgICAgcmV0dXJuIG1ldGFjbGFzcyhjbHMuX19uYW1lX18sIGNscy5fX2Jhc2VzX18sIGNscy5fX2RpY3RfXy5jb3B5KCkpCiAgICByZXR1cm4gd3JhcHBlcgoKCmNsYXNzIF9Td2lnTm9uRHluYW1pY01ldGEodHlwZSk6CiAgICAiIiJNZXRhIGNsYXNzIHRvIGVuZm9yY2Ugbm9uZHluYW1pYyBhdHRyaWJ1dGVzIChubyBuZXcgYXR0cmlidXRlcykgZm9yIGEgY2xhc3MiIiIKICAgIF9fc2V0YXR0cl9fID0gX3N3aWdfc2V0YXR0cl9ub25keW5hbWljX2NsYXNzX3ZhcmlhYmxlKHR5cGUuX19zZXRhdHRyX18pCgoKY2xhc3MgU3dpZ1B5SXRlcmF0b3Iob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICByYWlzZSBBdHRyaWJ1dGVFcnJvcigiTm8gY29uc3RydWN0b3IgZGVmaW5lZCAtIGNsYXNzIGlzIGFic3RyYWN0IikKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX1N3aWdQeUl0ZXJhdG9yCgogICAgZGVmIHZhbHVlKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX3ZhbHVlKHNlbGYpCgogICAgZGVmIGluY3Ioc2VsZiwgbj0xKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5Td2lnUHlJdGVyYXRvcl9pbmNyKHNlbGYsIG4pCgogICAgZGVmIGRlY3Ioc2VsZiwgbj0xKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5Td2lnUHlJdGVyYXRvcl9kZWNyKHNlbGYsIG4pCgogICAgZGVmIGRpc3RhbmNlKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX2Rpc3RhbmNlKHNlbGYsIHgpCgogICAgZGVmIGVxdWFsKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX2VxdWFsKHNlbGYsIHgpCgogICAgZGVmIGNvcHkoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuU3dpZ1B5SXRlcmF0b3JfY29weShzZWxmKQoKICAgIGRlZiBuZXh0KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX25leHQoc2VsZikKCiAgICBkZWYgX19uZXh0X18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuU3dpZ1B5SXRlcmF0b3JfX19uZXh0X18oc2VsZikKCiAgICBkZWYgcHJldmlvdXMoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuU3dpZ1B5SXRlcmF0b3JfcHJldmlvdXMoc2VsZikKCiAgICBkZWYgYWR2YW5jZShzZWxmLCBuKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5Td2lnUHlJdGVyYXRvcl9hZHZhbmNlKHNlbGYsIG4pCgogICAgZGVmIF9fZXFfXyhzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5Td2lnUHlJdGVyYXRvcl9fX2VxX18oc2VsZiwgeCkKCiAgICBkZWYgX19uZV9fKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX19fbmVfXyhzZWxmLCB4KQoKICAgIGRlZiBfX2lhZGRfXyhzZWxmLCBuKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5Td2lnUHlJdGVyYXRvcl9fX2lhZGRfXyhzZWxmLCBuKQoKICAgIGRlZiBfX2lzdWJfXyhzZWxmLCBuKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5Td2lnUHlJdGVyYXRvcl9fX2lzdWJfXyhzZWxmLCBuKQoKICAgIGRlZiBfX2FkZF9fKHNlbGYsIG4pOgogICAgICAgIHJldHVybiBfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX19fYWRkX18oc2VsZiwgbikKCiAgICBkZWYgX19zdWJfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuU3dpZ1B5SXRlcmF0b3JfX19zdWJfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZgoKIyBSZWdpc3RlciBTd2lnUHlJdGVyYXRvciBpbiBfcGRuX3B5OgpfcGRuX3B5LlN3aWdQeUl0ZXJhdG9yX3N3aWdyZWdpc3RlcihTd2lnUHlJdGVyYXRvcikKCmNsYXNzIHNwbGl0X2N1dHNfc3R1ZmYob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgoKICAgIGRlZiBpdGVyYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX2l0ZXJhdG9yKHNlbGYpCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuaXRlcmF0b3IoKQoKICAgIGRlZiBfX25vbnplcm9fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX19fbm9uemVyb19fKHNlbGYpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfX19ib29sX18oc2VsZikKCiAgICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX19fbGVuX18oc2VsZikKCiAgICBkZWYgX19nZXRzbGljZV9fKHNlbGYsIGksIGopOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfX19nZXRzbGljZV9fKHNlbGYsIGksIGopCgogICAgZGVmIF9fc2V0c2xpY2VfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9fX3NldHNsaWNlX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX19fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKQoKICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9fX2RlbGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX19fc2V0aXRlbV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBwb3Aoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9wb3Aoc2VsZikKCiAgICBkZWYgYXBwZW5kKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfYXBwZW5kKHNlbGYsIHgpCgogICAgZGVmIGVtcHR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfZW1wdHkoc2VsZikKCiAgICBkZWYgc2l6ZShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX3NpemUoc2VsZikKCiAgICBkZWYgc3dhcChzZWxmLCB2KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX3N3YXAoc2VsZiwgdikKCiAgICBkZWYgYmVnaW4oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9iZWdpbihzZWxmKQoKICAgIGRlZiBlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9lbmQoc2VsZikKCiAgICBkZWYgcmJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfcmJlZ2luKHNlbGYpCgogICAgZGVmIHJlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9yZW5kKHNlbGYpCgogICAgZGVmIGNsZWFyKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfY2xlYXIoc2VsZikKCiAgICBkZWYgZ2V0X2FsbG9jYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX2dldF9hbGxvY2F0b3Ioc2VsZikKCiAgICBkZWYgcG9wX2JhY2soc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9wb3BfYmFjayhzZWxmKQoKICAgIGRlZiBlcmFzZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9lcmFzZShzZWxmLCAqYXJncykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9zd2lnaW5pdChzZWxmLCBfcGRuX3B5Lm5ld19zcGxpdF9jdXRzX3N0dWZmKCphcmdzKSkKCiAgICBkZWYgcHVzaF9iYWNrKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfcHVzaF9iYWNrKHNlbGYsIHgpCgogICAgZGVmIGZyb250KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfZnJvbnQoc2VsZikKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX2JhY2soc2VsZikKCiAgICBkZWYgYXNzaWduKHNlbGYsIG4sIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfYXNzaWduKHNlbGYsIG4sIHgpCgogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9yZXNpemUoc2VsZiwgKmFyZ3MpCgogICAgZGVmIGluc2VydChzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9pbnNlcnQoc2VsZiwgKmFyZ3MpCgogICAgZGVmIHJlc2VydmUoc2VsZiwgbik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfY3V0c19zdHVmZl9yZXNlcnZlKHNlbGYsIG4pCgogICAgZGVmIGNhcGFjaXR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X2N1dHNfc3R1ZmZfY2FwYWNpdHkoc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfcGRuX3B5LmRlbGV0ZV9zcGxpdF9jdXRzX3N0dWZmCgojIFJlZ2lzdGVyIHNwbGl0X2N1dHNfc3R1ZmYgaW4gX3Bkbl9weToKX3Bkbl9weS5zcGxpdF9jdXRzX3N0dWZmX3N3aWdyZWdpc3RlcihzcGxpdF9jdXRzX3N0dWZmKQoKY2xhc3Mgc3R1ZmYob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgoKICAgIGRlZiBpdGVyYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9pdGVyYXRvcihzZWxmKQogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLml0ZXJhdG9yKCkKCiAgICBkZWYgX19ub256ZXJvX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3R1ZmZfX19ub256ZXJvX18oc2VsZikKCiAgICBkZWYgX19ib29sX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3R1ZmZfX19ib29sX18oc2VsZikKCiAgICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9fX2xlbl9fKHNlbGYpCgogICAgZGVmIF9fZ2V0c2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9fX2dldHNsaWNlX18oc2VsZiwgaSwgaikKCiAgICBkZWYgX19zZXRzbGljZV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9fX3NldHNsaWNlX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9fX2RlbHNsaWNlX18oc2VsZiwgaSwgaikKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnN0dWZmX19fZGVsaXRlbV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3R1ZmZfX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9fX3NldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkuc3R1ZmZfc3dpZ2luaXQoc2VsZiwgX3Bkbl9weS5uZXdfc3R1ZmYoKmFyZ3MpKQoKICAgIGRlZiBlbXB0eShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9lbXB0eShzZWxmKQoKICAgIGRlZiBzaXplKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnN0dWZmX3NpemUoc2VsZikKCiAgICBkZWYgc3dhcChzZWxmLCB2KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9zd2FwKHNlbGYsIHYpCgogICAgZGVmIGJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnN0dWZmX2JlZ2luKHNlbGYpCgogICAgZGVmIGVuZChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9lbmQoc2VsZikKCiAgICBkZWYgcmJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnN0dWZmX3JiZWdpbihzZWxmKQoKICAgIGRlZiByZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnN0dWZmX3JlbmQoc2VsZikKCiAgICBkZWYgZnJvbnQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3R1ZmZfZnJvbnQoc2VsZikKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zdHVmZl9iYWNrKHNlbGYpCgogICAgZGVmIGZpbGwoc2VsZiwgdSk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3R1ZmZfZmlsbChzZWxmLCB1KQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX3N0dWZmCgojIFJlZ2lzdGVyIHN0dWZmIGluIF9wZG5fcHk6Cl9wZG5fcHkuc3R1ZmZfc3dpZ3JlZ2lzdGVyKHN0dWZmKQoKY2xhc3Mgc3BsaXRfbWFwKG9iamVjdCk6CiAgICB0aGlzb3duID0gcHJvcGVydHkobGFtYmRhIHg6IHgudGhpcy5vd24oKSwgbGFtYmRhIHgsIHY6IHgudGhpcy5vd24odiksIGRvYz0nVGhlIG1lbWJlcnNoaXAgZmxhZycpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKCiAgICBkZWYgaXRlcmF0b3Ioc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2l0ZXJhdG9yKHNlbGYpCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuaXRlcmF0b3IoKQoKICAgIGRlZiBfX25vbnplcm9fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfX19ub256ZXJvX18oc2VsZikKCiAgICBkZWYgX19ib29sX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX19fYm9vbF9fKHNlbGYpCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX19fbGVuX18oc2VsZikKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5rZXlfaXRlcmF0b3IoKQogICAgZGVmIGl0ZXJrZXlzKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLmtleV9pdGVyYXRvcigpCiAgICBkZWYgaXRlcnZhbHVlcyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi52YWx1ZV9pdGVyYXRvcigpCiAgICBkZWYgaXRlcml0ZW1zKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLml0ZXJhdG9yKCkKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwga2V5KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfX19nZXRpdGVtX18oc2VsZiwga2V5KQoKICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCBrZXkpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF9fX2RlbGl0ZW1fXyhzZWxmLCBrZXkpCgogICAgZGVmIGhhc19rZXkoc2VsZiwga2V5KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfaGFzX2tleShzZWxmLCBrZXkpCgogICAgZGVmIGtleXMoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2tleXMoc2VsZikKCiAgICBkZWYgdmFsdWVzKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF92YWx1ZXMoc2VsZikKCiAgICBkZWYgaXRlbXMoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2l0ZW1zKHNlbGYpCgogICAgZGVmIF9fY29udGFpbnNfXyhzZWxmLCBrZXkpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF9fX2NvbnRhaW5zX18oc2VsZiwga2V5KQoKICAgIGRlZiBrZXlfaXRlcmF0b3Ioc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2tleV9pdGVyYXRvcihzZWxmKQoKICAgIGRlZiB2YWx1ZV9pdGVyYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfdmFsdWVfaXRlcmF0b3Ioc2VsZikKCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF9fX3NldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgYXNkaWN0KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF9hc2RpY3Qoc2VsZikKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkuc3BsaXRfbWFwX3N3aWdpbml0KHNlbGYsIF9wZG5fcHkubmV3X3NwbGl0X21hcCgqYXJncykpCgogICAgZGVmIGVtcHR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF9lbXB0eShzZWxmKQoKICAgIGRlZiBzaXplKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF9zaXplKHNlbGYpCgogICAgZGVmIHN3YXAoc2VsZiwgdik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX3N3YXAoc2VsZiwgdikKCiAgICBkZWYgYmVnaW4oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2JlZ2luKHNlbGYpCgogICAgZGVmIGVuZChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfZW5kKHNlbGYpCgogICAgZGVmIHJiZWdpbihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfcmJlZ2luKHNlbGYpCgogICAgZGVmIHJlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX3JlbmQoc2VsZikKCiAgICBkZWYgY2xlYXIoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2NsZWFyKHNlbGYpCgogICAgZGVmIGdldF9hbGxvY2F0b3Ioc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2dldF9hbGxvY2F0b3Ioc2VsZikKCiAgICBkZWYgY291bnQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2NvdW50KHNlbGYsIHgpCgogICAgZGVmIGVyYXNlKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5zcGxpdF9tYXBfZXJhc2Uoc2VsZiwgKmFyZ3MpCgogICAgZGVmIGZpbmQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2ZpbmQoc2VsZiwgeCkKCiAgICBkZWYgbG93ZXJfYm91bmQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuc3BsaXRfbWFwX2xvd2VyX2JvdW5kKHNlbGYsIHgpCgogICAgZGVmIHVwcGVyX2JvdW5kKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnNwbGl0X21hcF91cHBlcl9ib3VuZChzZWxmLCB4KQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX3NwbGl0X21hcAoKIyBSZWdpc3RlciBzcGxpdF9tYXAgaW4gX3Bkbl9weToKX3Bkbl9weS5zcGxpdF9tYXBfc3dpZ3JlZ2lzdGVyKHNwbGl0X21hcCkKCmNsYXNzIGdyaWRfbGlzdChvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCgogICAgZGVmIGl0ZXJhdG9yKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9pdGVyYXRvcihzZWxmKQogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLml0ZXJhdG9yKCkKCiAgICBkZWYgX19ub256ZXJvX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZ3JpZF9saXN0X19fbm9uemVyb19fKHNlbGYpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9fX2Jvb2xfXyhzZWxmKQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9fX2xlbl9fKHNlbGYpCgogICAgZGVmIF9fZ2V0c2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfX19nZXRzbGljZV9fKHNlbGYsIGksIGopCgogICAgZGVmIF9fc2V0c2xpY2VfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZ3JpZF9saXN0X19fc2V0c2xpY2VfXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19kZWxzbGljZV9fKHNlbGYsIGksIGopOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9fX2RlbHNsaWNlX18oc2VsZiwgaSwgaikKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9fX2RlbGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9fX2dldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9fX3NldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgcG9wKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9wb3Aoc2VsZikKCiAgICBkZWYgYXBwZW5kKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9hcHBlbmQoc2VsZiwgeCkKCiAgICBkZWYgZW1wdHkoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZ3JpZF9saXN0X2VtcHR5KHNlbGYpCgogICAgZGVmIHNpemUoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZ3JpZF9saXN0X3NpemUoc2VsZikKCiAgICBkZWYgc3dhcChzZWxmLCB2KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3Rfc3dhcChzZWxmLCB2KQoKICAgIGRlZiBiZWdpbihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfYmVnaW4oc2VsZikKCiAgICBkZWYgZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9lbmQoc2VsZikKCiAgICBkZWYgcmJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9yYmVnaW4oc2VsZikKCiAgICBkZWYgcmVuZChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfcmVuZChzZWxmKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfY2xlYXIoc2VsZikKCiAgICBkZWYgZ2V0X2FsbG9jYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfZ2V0X2FsbG9jYXRvcihzZWxmKQoKICAgIGRlZiBwb3BfYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfcG9wX2JhY2soc2VsZikKCiAgICBkZWYgZXJhc2Uoc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9lcmFzZShzZWxmLCAqYXJncykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkuZ3JpZF9saXN0X3N3aWdpbml0KHNlbGYsIF9wZG5fcHkubmV3X2dyaWRfbGlzdCgqYXJncykpCgogICAgZGVmIHB1c2hfYmFjayhzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfcHVzaF9iYWNrKHNlbGYsIHgpCgogICAgZGVmIGZyb250KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9mcm9udChzZWxmKQoKICAgIGRlZiBiYWNrKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9iYWNrKHNlbGYpCgogICAgZGVmIGFzc2lnbihzZWxmLCBuLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfYXNzaWduKHNlbGYsIG4sIHgpCgogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZ3JpZF9saXN0X3Jlc2l6ZShzZWxmLCAqYXJncykKCiAgICBkZWYgaW5zZXJ0KHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5ncmlkX2xpc3RfaW5zZXJ0KHNlbGYsICphcmdzKQoKICAgIGRlZiByZXNlcnZlKHNlbGYsIG4pOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9yZXNlcnZlKHNlbGYsIG4pCgogICAgZGVmIGNhcGFjaXR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmdyaWRfbGlzdF9jYXBhY2l0eShzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX2dyaWRfbGlzdAoKIyBSZWdpc3RlciBncmlkX2xpc3QgaW4gX3Bkbl9weToKX3Bkbl9weS5ncmlkX2xpc3Rfc3dpZ3JlZ2lzdGVyKGdyaWRfbGlzdCkKCmNsYXNzIGRvbWFpbl9saXN0KG9iamVjdCk6CiAgICB0aGlzb3duID0gcHJvcGVydHkobGFtYmRhIHg6IHgudGhpcy5vd24oKSwgbGFtYmRhIHgsIHY6IHgudGhpcy5vd24odiksIGRvYz0nVGhlIG1lbWJlcnNoaXAgZmxhZycpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKCiAgICBkZWYgaXRlcmF0b3Ioc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfaXRlcmF0b3Ioc2VsZikKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5pdGVyYXRvcigpCgogICAgZGVmIF9fbm9uemVyb19fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X19fbm9uemVyb19fKHNlbGYpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X19fYm9vbF9fKHNlbGYpCgogICAgZGVmIF9fbGVuX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfX19sZW5fXyhzZWxmKQoKICAgIGRlZiBfX2dldHNsaWNlX18oc2VsZiwgaSwgaik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfX19nZXRzbGljZV9fKHNlbGYsIGksIGopCgogICAgZGVmIF9fc2V0c2xpY2VfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfX19zZXRzbGljZV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBfX2RlbHNsaWNlX18oc2VsZiwgaSwgaik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfX19kZWxzbGljZV9fKHNlbGYsIGksIGopCgogICAgZGVmIF9fZGVsaXRlbV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9fX2RlbGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X19fZ2V0aXRlbV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfX19zZXRpdGVtX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIHBvcChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9wb3Aoc2VsZikKCiAgICBkZWYgYXBwZW5kKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X2FwcGVuZChzZWxmLCB4KQoKICAgIGRlZiBlbXB0eShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9lbXB0eShzZWxmKQoKICAgIGRlZiBzaXplKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X3NpemUoc2VsZikKCiAgICBkZWYgc3dhcChzZWxmLCB2KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9zd2FwKHNlbGYsIHYpCgogICAgZGVmIGJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X2JlZ2luKHNlbGYpCgogICAgZGVmIGVuZChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9lbmQoc2VsZikKCiAgICBkZWYgcmJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X3JiZWdpbihzZWxmKQoKICAgIGRlZiByZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X3JlbmQoc2VsZikKCiAgICBkZWYgY2xlYXIoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfY2xlYXIoc2VsZikKCiAgICBkZWYgZ2V0X2FsbG9jYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9nZXRfYWxsb2NhdG9yKHNlbGYpCgogICAgZGVmIHBvcF9iYWNrKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X3BvcF9iYWNrKHNlbGYpCgogICAgZGVmIGVyYXNlKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9lcmFzZShzZWxmLCAqYXJncykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkuZG9tYWluX2xpc3Rfc3dpZ2luaXQoc2VsZiwgX3Bkbl9weS5uZXdfZG9tYWluX2xpc3QoKmFyZ3MpKQoKICAgIGRlZiBwdXNoX2JhY2soc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfcHVzaF9iYWNrKHNlbGYsIHgpCgogICAgZGVmIGZyb250KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X2Zyb250KHNlbGYpCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfYmFjayhzZWxmKQoKICAgIGRlZiBhc3NpZ24oc2VsZiwgbiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfYXNzaWduKHNlbGYsIG4sIHgpCgogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuZG9tYWluX2xpc3RfcmVzaXplKHNlbGYsICphcmdzKQoKICAgIGRlZiBpbnNlcnQoc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X2luc2VydChzZWxmLCAqYXJncykKCiAgICBkZWYgcmVzZXJ2ZShzZWxmLCBuKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5kb21haW5fbGlzdF9yZXNlcnZlKHNlbGYsIG4pCgogICAgZGVmIGNhcGFjaXR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmRvbWFpbl9saXN0X2NhcGFjaXR5KHNlbGYpCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX3Bkbl9weS5kZWxldGVfZG9tYWluX2xpc3QKCiMgUmVnaXN0ZXIgZG9tYWluX2xpc3QgaW4gX3Bkbl9weToKX3Bkbl9weS5kb21haW5fbGlzdF9zd2lncmVnaXN0ZXIoZG9tYWluX2xpc3QpCgpjbGFzcyBuZXRfbGlzdChvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCgogICAgZGVmIGl0ZXJhdG9yKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X2l0ZXJhdG9yKHNlbGYpCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuaXRlcmF0b3IoKQoKICAgIGRlZiBfX25vbnplcm9fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9fX25vbnplcm9fXyhzZWxmKQoKICAgIGRlZiBfX2Jvb2xfXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9fX2Jvb2xfXyhzZWxmKQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X19fbGVuX18oc2VsZikKCiAgICBkZWYgX19nZXRzbGljZV9fKHNlbGYsIGksIGopOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X19fZ2V0c2xpY2VfXyhzZWxmLCBpLCBqKQoKICAgIGRlZiBfX3NldHNsaWNlX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X19fc2V0c2xpY2VfXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19kZWxzbGljZV9fKHNlbGYsIGksIGopOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X19fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKQoKICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfX19kZWxpdGVtX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9fX2dldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X19fc2V0aXRlbV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBwb3Aoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfcG9wKHNlbGYpCgogICAgZGVmIGFwcGVuZChzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9hcHBlbmQoc2VsZiwgeCkKCiAgICBkZWYgZW1wdHkoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfZW1wdHkoc2VsZikKCiAgICBkZWYgc2l6ZShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9zaXplKHNlbGYpCgogICAgZGVmIHN3YXAoc2VsZiwgdik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3Rfc3dhcChzZWxmLCB2KQoKICAgIGRlZiBiZWdpbihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9iZWdpbihzZWxmKQoKICAgIGRlZiBlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfZW5kKHNlbGYpCgogICAgZGVmIHJiZWdpbihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9yYmVnaW4oc2VsZikKCiAgICBkZWYgcmVuZChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9yZW5kKHNlbGYpCgogICAgZGVmIGNsZWFyKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X2NsZWFyKHNlbGYpCgogICAgZGVmIGdldF9hbGxvY2F0b3Ioc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfZ2V0X2FsbG9jYXRvcihzZWxmKQoKICAgIGRlZiBwb3BfYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9wb3BfYmFjayhzZWxmKQoKICAgIGRlZiBlcmFzZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfZXJhc2Uoc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKToKICAgICAgICBfcGRuX3B5Lm5ldF9saXN0X3N3aWdpbml0KHNlbGYsIF9wZG5fcHkubmV3X25ldF9saXN0KCphcmdzKSkKCiAgICBkZWYgcHVzaF9iYWNrKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X3B1c2hfYmFjayhzZWxmLCB4KQoKICAgIGRlZiBmcm9udChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9mcm9udChzZWxmKQoKICAgIGRlZiBiYWNrKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X2JhY2soc2VsZikKCiAgICBkZWYgYXNzaWduKHNlbGYsIG4sIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X2Fzc2lnbihzZWxmLCBuLCB4KQoKICAgIGRlZiByZXNpemUoc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9saXN0X3Jlc2l6ZShzZWxmLCAqYXJncykKCiAgICBkZWYgaW5zZXJ0KHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9pbnNlcnQoc2VsZiwgKmFyZ3MpCgogICAgZGVmIHJlc2VydmUoc2VsZiwgbik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X2xpc3RfcmVzZXJ2ZShzZWxmLCBuKQoKICAgIGRlZiBjYXBhY2l0eShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfbGlzdF9jYXBhY2l0eShzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX25ldF9saXN0CgojIFJlZ2lzdGVyIG5ldF9saXN0IGluIF9wZG5fcHk6Cl9wZG5fcHkubmV0X2xpc3Rfc3dpZ3JlZ2lzdGVyKG5ldF9saXN0KQoKY2xhc3MgdmlhZ2VuX2xpc3Qob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgoKICAgIGRlZiBpdGVyYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9pdGVyYXRvcihzZWxmKQogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLml0ZXJhdG9yKCkKCiAgICBkZWYgX19ub256ZXJvX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfX19ub256ZXJvX18oc2VsZikKCiAgICBkZWYgX19ib29sX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfX19ib29sX18oc2VsZikKCiAgICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9fX2xlbl9fKHNlbGYpCgogICAgZGVmIF9fZ2V0c2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9fX2dldHNsaWNlX18oc2VsZiwgaSwgaikKCiAgICBkZWYgX19zZXRzbGljZV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9fX3NldHNsaWNlX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9fX2RlbHNsaWNlX18oc2VsZiwgaSwgaikKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X19fZGVsaXRlbV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9fX3NldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgcG9wKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X3BvcChzZWxmKQoKICAgIGRlZiBhcHBlbmQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfYXBwZW5kKHNlbGYsIHgpCgogICAgZGVmIGVtcHR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X2VtcHR5KHNlbGYpCgogICAgZGVmIHNpemUoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3Rfc2l6ZShzZWxmKQoKICAgIGRlZiBzd2FwKHNlbGYsIHYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X3N3YXAoc2VsZiwgdikKCiAgICBkZWYgYmVnaW4oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfYmVnaW4oc2VsZikKCiAgICBkZWYgZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X2VuZChzZWxmKQoKICAgIGRlZiByYmVnaW4oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfcmJlZ2luKHNlbGYpCgogICAgZGVmIHJlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfcmVuZChzZWxmKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9jbGVhcihzZWxmKQoKICAgIGRlZiBnZXRfYWxsb2NhdG9yKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X2dldF9hbGxvY2F0b3Ioc2VsZikKCiAgICBkZWYgcG9wX2JhY2soc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfcG9wX2JhY2soc2VsZikKCiAgICBkZWYgZXJhc2Uoc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X2VyYXNlKHNlbGYsICphcmdzKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgX3Bkbl9weS52aWFnZW5fbGlzdF9zd2lnaW5pdChzZWxmLCBfcGRuX3B5Lm5ld192aWFnZW5fbGlzdCgqYXJncykpCgogICAgZGVmIHB1c2hfYmFjayhzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9wdXNoX2JhY2soc2VsZiwgeCkKCiAgICBkZWYgZnJvbnQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfZnJvbnQoc2VsZikKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9iYWNrKHNlbGYpCgogICAgZGVmIGFzc2lnbihzZWxmLCBuLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9hc3NpZ24oc2VsZiwgbiwgeCkKCiAgICBkZWYgcmVzaXplKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS52aWFnZW5fbGlzdF9yZXNpemUoc2VsZiwgKmFyZ3MpCgogICAgZGVmIGluc2VydChzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfaW5zZXJ0KHNlbGYsICphcmdzKQoKICAgIGRlZiByZXNlcnZlKHNlbGYsIG4pOgogICAgICAgIHJldHVybiBfcGRuX3B5LnZpYWdlbl9saXN0X3Jlc2VydmUoc2VsZiwgbikKCiAgICBkZWYgY2FwYWNpdHkoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudmlhZ2VuX2xpc3RfY2FwYWNpdHkoc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfcGRuX3B5LmRlbGV0ZV92aWFnZW5fbGlzdAoKIyBSZWdpc3RlciB2aWFnZW5fbGlzdCBpbiBfcGRuX3B5OgpfcGRuX3B5LnZpYWdlbl9saXN0X3N3aWdyZWdpc3Rlcih2aWFnZW5fbGlzdCkKCmNsYXNzIHRlY2h2aWFfbGlzdChvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCgogICAgZGVmIGl0ZXJhdG9yKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9pdGVyYXRvcihzZWxmKQogICAgZGVmIF9faXRlcl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLml0ZXJhdG9yKCkKCiAgICBkZWYgX19ub256ZXJvX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudGVjaHZpYV9saXN0X19fbm9uemVyb19fKHNlbGYpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9fX2Jvb2xfXyhzZWxmKQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9fX2xlbl9fKHNlbGYpCgogICAgZGVmIF9fZ2V0c2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfX19nZXRzbGljZV9fKHNlbGYsIGksIGopCgogICAgZGVmIF9fc2V0c2xpY2VfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudGVjaHZpYV9saXN0X19fc2V0c2xpY2VfXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19kZWxzbGljZV9fKHNlbGYsIGksIGopOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9fX2RlbHNsaWNlX18oc2VsZiwgaSwgaikKCiAgICBkZWYgX19kZWxpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9fX2RlbGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9fX2dldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9fX3NldGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgcG9wKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9wb3Aoc2VsZikKCiAgICBkZWYgYXBwZW5kKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9hcHBlbmQoc2VsZiwgeCkKCiAgICBkZWYgZW1wdHkoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudGVjaHZpYV9saXN0X2VtcHR5KHNlbGYpCgogICAgZGVmIHNpemUoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudGVjaHZpYV9saXN0X3NpemUoc2VsZikKCiAgICBkZWYgc3dhcChzZWxmLCB2KToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3Rfc3dhcChzZWxmLCB2KQoKICAgIGRlZiBiZWdpbihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfYmVnaW4oc2VsZikKCiAgICBkZWYgZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9lbmQoc2VsZikKCiAgICBkZWYgcmJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9yYmVnaW4oc2VsZikKCiAgICBkZWYgcmVuZChzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfcmVuZChzZWxmKQoKICAgIGRlZiBjbGVhcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfY2xlYXIoc2VsZikKCiAgICBkZWYgZ2V0X2FsbG9jYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfZ2V0X2FsbG9jYXRvcihzZWxmKQoKICAgIGRlZiBwb3BfYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfcG9wX2JhY2soc2VsZikKCiAgICBkZWYgZXJhc2Uoc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9lcmFzZShzZWxmLCAqYXJncykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkudGVjaHZpYV9saXN0X3N3aWdpbml0KHNlbGYsIF9wZG5fcHkubmV3X3RlY2h2aWFfbGlzdCgqYXJncykpCgogICAgZGVmIHB1c2hfYmFjayhzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfcHVzaF9iYWNrKHNlbGYsIHgpCgogICAgZGVmIGZyb250KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9mcm9udChzZWxmKQoKICAgIGRlZiBiYWNrKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9iYWNrKHNlbGYpCgogICAgZGVmIGFzc2lnbihzZWxmLCBuLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfYXNzaWduKHNlbGYsIG4sIHgpCgogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkudGVjaHZpYV9saXN0X3Jlc2l6ZShzZWxmLCAqYXJncykKCiAgICBkZWYgaW5zZXJ0KHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS50ZWNodmlhX2xpc3RfaW5zZXJ0KHNlbGYsICphcmdzKQoKICAgIGRlZiByZXNlcnZlKHNlbGYsIG4pOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9yZXNlcnZlKHNlbGYsIG4pCgogICAgZGVmIGNhcGFjaXR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LnRlY2h2aWFfbGlzdF9jYXBhY2l0eShzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX3RlY2h2aWFfbGlzdAoKIyBSZWdpc3RlciB0ZWNodmlhX2xpc3QgaW4gX3Bkbl9weToKX3Bkbl9weS50ZWNodmlhX2xpc3Rfc3dpZ3JlZ2lzdGVyKHRlY2h2aWFfbGlzdCkKCmNsYXNzIGxheWVyX2xpc3Qob2JqZWN0KToKICAgIHRoaXNvd24gPSBwcm9wZXJ0eShsYW1iZGEgeDogeC50aGlzLm93bigpLCBsYW1iZGEgeCwgdjogeC50aGlzLm93bih2KSwgZG9jPSdUaGUgbWVtYmVyc2hpcCBmbGFnJykKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgoKICAgIGRlZiBpdGVyYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X2l0ZXJhdG9yKHNlbGYpCiAgICBkZWYgX19pdGVyX18oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuaXRlcmF0b3IoKQoKICAgIGRlZiBfX25vbnplcm9fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X19fbm9uemVyb19fKHNlbGYpCgogICAgZGVmIF9fYm9vbF9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfX19ib29sX18oc2VsZikKCiAgICBkZWYgX19sZW5fXyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X19fbGVuX18oc2VsZikKCiAgICBkZWYgX19nZXRzbGljZV9fKHNlbGYsIGksIGopOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfX19nZXRzbGljZV9fKHNlbGYsIGksIGopCgogICAgZGVmIF9fc2V0c2xpY2VfXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9fX3NldHNsaWNlX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X19fZGVsc2xpY2VfXyhzZWxmLCBpLCBqKQoKICAgIGRlZiBfX2RlbGl0ZW1fXyhzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9fX2RlbGl0ZW1fXyhzZWxmLCAqYXJncykKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfX19nZXRpdGVtX18oc2VsZiwgKmFyZ3MpCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X19fc2V0aXRlbV9fKHNlbGYsICphcmdzKQoKICAgIGRlZiBwb3Aoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9wb3Aoc2VsZikKCiAgICBkZWYgYXBwZW5kKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfYXBwZW5kKHNlbGYsIHgpCgogICAgZGVmIGVtcHR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfZW1wdHkoc2VsZikKCiAgICBkZWYgc2l6ZShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X3NpemUoc2VsZikKCiAgICBkZWYgc3dhcChzZWxmLCB2KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X3N3YXAoc2VsZiwgdikKCiAgICBkZWYgYmVnaW4oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9iZWdpbihzZWxmKQoKICAgIGRlZiBlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9lbmQoc2VsZikKCiAgICBkZWYgcmJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfcmJlZ2luKHNlbGYpCgogICAgZGVmIHJlbmQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9yZW5kKHNlbGYpCgogICAgZGVmIGNsZWFyKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfY2xlYXIoc2VsZikKCiAgICBkZWYgZ2V0X2FsbG9jYXRvcihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X2dldF9hbGxvY2F0b3Ioc2VsZikKCiAgICBkZWYgcG9wX2JhY2soc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9wb3BfYmFjayhzZWxmKQoKICAgIGRlZiBlcmFzZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9lcmFzZShzZWxmLCAqYXJncykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgogICAgICAgIF9wZG5fcHkubGF5ZXJfbGlzdF9zd2lnaW5pdChzZWxmLCBfcGRuX3B5Lm5ld19sYXllcl9saXN0KCphcmdzKSkKCiAgICBkZWYgcHVzaF9iYWNrKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfcHVzaF9iYWNrKHNlbGYsIHgpCgogICAgZGVmIGZyb250KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfZnJvbnQoc2VsZikKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5sYXllcl9saXN0X2JhY2soc2VsZikKCiAgICBkZWYgYXNzaWduKHNlbGYsIG4sIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfYXNzaWduKHNlbGYsIG4sIHgpCgogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9yZXNpemUoc2VsZiwgKmFyZ3MpCgogICAgZGVmIGluc2VydChzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9pbnNlcnQoc2VsZiwgKmFyZ3MpCgogICAgZGVmIHJlc2VydmUoc2VsZiwgbik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubGF5ZXJfbGlzdF9yZXNlcnZlKHNlbGYsIG4pCgogICAgZGVmIGNhcGFjaXR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LmxheWVyX2xpc3RfY2FwYWNpdHkoc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfcGRuX3B5LmRlbGV0ZV9sYXllcl9saXN0CgojIFJlZ2lzdGVyIGxheWVyX2xpc3QgaW4gX3Bkbl9weToKX3Bkbl9weS5sYXllcl9saXN0X3N3aWdyZWdpc3RlcihsYXllcl9saXN0KQoKY2xhc3MgbmV0X3NldChvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCgogICAgZGVmIGl0ZXJhdG9yKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfaXRlcmF0b3Ioc2VsZikKICAgIGRlZiBfX2l0ZXJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5pdGVyYXRvcigpCgogICAgZGVmIF9fbm9uemVyb19fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfX19ub256ZXJvX18oc2VsZikKCiAgICBkZWYgX19ib29sX18oc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9fX2Jvb2xfXyhzZWxmKQoKICAgIGRlZiBfX2xlbl9fKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfX19sZW5fXyhzZWxmKQoKICAgIGRlZiBhcHBlbmQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9hcHBlbmQoc2VsZiwgeCkKCiAgICBkZWYgX19jb250YWluc19fKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfX19jb250YWluc19fKHNlbGYsIHgpCgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGkpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfX19nZXRpdGVtX18oc2VsZiwgaSkKCiAgICBkZWYgYWRkKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfYWRkKHNlbGYsIHgpCgogICAgZGVmIGRpc2NhcmQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9kaXNjYXJkKHNlbGYsIHgpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKToKICAgICAgICBfcGRuX3B5Lm5ldF9zZXRfc3dpZ2luaXQoc2VsZiwgX3Bkbl9weS5uZXdfbmV0X3NldCgqYXJncykpCgogICAgZGVmIGVtcHR5KHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfZW1wdHkoc2VsZikKCiAgICBkZWYgc2l6ZShzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfc2V0X3NpemUoc2VsZikKCiAgICBkZWYgY2xlYXIoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9jbGVhcihzZWxmKQoKICAgIGRlZiBzd2FwKHNlbGYsIHYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfc3dhcChzZWxmLCB2KQoKICAgIGRlZiBjb3VudChzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfc2V0X2NvdW50KHNlbGYsIHgpCgogICAgZGVmIGJlZ2luKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfYmVnaW4oc2VsZikKCiAgICBkZWYgZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfZW5kKHNlbGYpCgogICAgZGVmIHJiZWdpbihzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfc2V0X3JiZWdpbihzZWxmKQoKICAgIGRlZiByZW5kKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfcmVuZChzZWxmKQoKICAgIGRlZiBlcmFzZShzZWxmLCAqYXJncyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9lcmFzZShzZWxmLCAqYXJncykKCiAgICBkZWYgZmluZChzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfc2V0X2ZpbmQoc2VsZiwgeCkKCiAgICBkZWYgbG93ZXJfYm91bmQoc2VsZiwgeCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9sb3dlcl9ib3VuZChzZWxmLCB4KQoKICAgIGRlZiB1cHBlcl9ib3VuZChzZWxmLCB4KToKICAgICAgICByZXR1cm4gX3Bkbl9weS5uZXRfc2V0X3VwcGVyX2JvdW5kKHNlbGYsIHgpCgogICAgZGVmIGVxdWFsX3JhbmdlKHNlbGYsIHgpOgogICAgICAgIHJldHVybiBfcGRuX3B5Lm5ldF9zZXRfZXF1YWxfcmFuZ2Uoc2VsZiwgeCkKCiAgICBkZWYgaW5zZXJ0KHNlbGYsIF9feCk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkubmV0X3NldF9pbnNlcnQoc2VsZiwgX194KQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9wZG5fcHkuZGVsZXRlX25ldF9zZXQKCiMgUmVnaXN0ZXIgbmV0X3NldCBpbiBfcGRuX3B5OgpfcGRuX3B5Lm5ldF9zZXRfc3dpZ3JlZ2lzdGVyKG5ldF9zZXQpCgpDT1JFID0gX3Bkbl9weS5DT1JFClJJTkdTID0gX3Bkbl9weS5SSU5HUwpCT1VOREFSWSA9IF9wZG5fcHkuQk9VTkRBUlkKRklYRUQgPSBfcGRuX3B5LkZJWEVECkdSSUQgPSBfcGRuX3B5LkdSSUQKUE9XRVIgPSBfcGRuX3B5LlBPV0VSCkdST1VORCA9IF9wZG5fcHkuR1JPVU5EClNUQVIgPSBfcGRuX3B5LlNUQVIKREFJU1kgPSBfcGRuX3B5LkRBSVNZCmNsYXNzIFBkbkdlbihvYmplY3QpOgogICAgdGhpc293biA9IHByb3BlcnR5KGxhbWJkYSB4OiB4LnRoaXMub3duKCksIGxhbWJkYSB4LCB2OiB4LnRoaXMub3duKHYpLCBkb2M9J1RoZSBtZW1iZXJzaGlwIGZsYWcnKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiLCBsb2dnZXIpOgogICAgICAgIF9wZG5fcHkuUGRuR2VuX3N3aWdpbml0KHNlbGYsIF9wZG5fcHkubmV3X1BkbkdlbihkYiwgbG9nZ2VyKSkKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfcGRuX3B5LmRlbGV0ZV9QZG5HZW4KCiAgICBkZWYgcmVzZXQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX3Jlc2V0KHNlbGYpCgogICAgZGVmIHJlc2V0U2hhcGVzKHNlbGYpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9yZXNldFNoYXBlcyhzZWxmKQoKICAgIGRlZiByZXBvcnQoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX3JlcG9ydChzZWxmKQoKICAgIGRlZiBmaW5kU3dpdGNoZWRQb3dlckNlbGwoc2VsZiwgbmFtZSk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX2ZpbmRTd2l0Y2hlZFBvd2VyQ2VsbChzZWxmLCBuYW1lKQoKICAgIGRlZiBtYWtlU3dpdGNoZWRQb3dlckNlbGwoc2VsZiwgbWFzdGVyLCBjb250cm9sLCBhY2tub3dsZWRnZSwgc3dpdGNoZWRfcG93ZXIsIGFsd2F5c29uX3Bvd2VyLCBncm91bmQpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9tYWtlU3dpdGNoZWRQb3dlckNlbGwoc2VsZiwgbWFzdGVyLCBjb250cm9sLCBhY2tub3dsZWRnZSwgc3dpdGNoZWRfcG93ZXIsIGFsd2F5c29uX3Bvd2VyLCBncm91bmQpCgogICAgZGVmIGdldFN3aXRjaGVkUG93ZXJDZWxscyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fZ2V0U3dpdGNoZWRQb3dlckNlbGxzKHNlbGYpCgogICAgZGVmIGdldERvbWFpbnMoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX2dldERvbWFpbnMoc2VsZikKCiAgICBkZWYgZmluZERvbWFpbihzZWxmLCBuYW1lKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fZmluZERvbWFpbihzZWxmLCBuYW1lKQoKICAgIGRlZiBzZXRDb3JlRG9tYWluKHNlbGYsIHBvd2VyLCBzd2l0Y2hlZF9wb3dlciwgZ3JvdW5kLCBzZWNvbmRhcnkpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9zZXRDb3JlRG9tYWluKHNlbGYsIHBvd2VyLCBzd2l0Y2hlZF9wb3dlciwgZ3JvdW5kLCBzZWNvbmRhcnkpCgogICAgZGVmIG1ha2VSZWdpb25Wb2x0YWdlRG9tYWluKHNlbGYsIG5hbWUsIHBvd2VyLCBzd2l0Y2hlZF9wb3dlciwgZ3JvdW5kLCBzZWNvbmRhcnlfbmV0cywgcmVnaW9uKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fbWFrZVJlZ2lvblZvbHRhZ2VEb21haW4oc2VsZiwgbmFtZSwgcG93ZXIsIHN3aXRjaGVkX3Bvd2VyLCBncm91bmQsIHNlY29uZGFyeV9uZXRzLCByZWdpb24pCgogICAgZGVmIGJ1aWxkR3JpZHMoc2VsZiwgdHJpbSk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX2J1aWxkR3JpZHMoc2VsZiwgdHJpbSkKCiAgICBkZWYgZmluZEdyaWQoc2VsZiwgbmFtZSk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX2ZpbmRHcmlkKHNlbGYsIG5hbWUpCgogICAgZGVmIG1ha2VDb3JlR3JpZChzZWxmLCBkb21haW4sIG5hbWUsIHN0YXJ0c193aXRoLCBwaW5fbGF5ZXJzLCBnZW5lcmF0ZV9vYnN0cnVjdGlvbnMsIHBvd2VyY2VsbCwgcG93ZXJjb250cm9sLCBwb3dlcmNvbnRyb2xuZXR3b3JrKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fbWFrZUNvcmVHcmlkKHNlbGYsIGRvbWFpbiwgbmFtZSwgc3RhcnRzX3dpdGgsIHBpbl9sYXllcnMsIGdlbmVyYXRlX29ic3RydWN0aW9ucywgcG93ZXJjZWxsLCBwb3dlcmNvbnRyb2wsIHBvd2VyY29udHJvbG5ldHdvcmspCgogICAgZGVmIG1ha2VJbnN0YW5jZUdyaWQoc2VsZiwgZG9tYWluLCBuYW1lLCBzdGFydHNfd2l0aCwgaW5zdCwgaGFsbywgcGdfcGluc190b19ib3VuZGFyeSwgZGVmYXVsdF9ncmlkLCBnZW5lcmF0ZV9vYnN0cnVjdGlvbnMsIGlzX2J1bXApOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9tYWtlSW5zdGFuY2VHcmlkKHNlbGYsIGRvbWFpbiwgbmFtZSwgc3RhcnRzX3dpdGgsIGluc3QsIGhhbG8sIHBnX3BpbnNfdG9fYm91bmRhcnksIGRlZmF1bHRfZ3JpZCwgZ2VuZXJhdGVfb2JzdHJ1Y3Rpb25zLCBpc19idW1wKQoKICAgIGRlZiBtYWtlRXhpc3RpbmdHcmlkKHNlbGYsIG5hbWUsIGdlbmVyYXRlX29ic3RydWN0aW9ucyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX21ha2VFeGlzdGluZ0dyaWQoc2VsZiwgbmFtZSwgZ2VuZXJhdGVfb2JzdHJ1Y3Rpb25zKQoKICAgIGRlZiBtYWtlUmluZyhzZWxmLCBncmlkLCBsYXllcjAsIHdpZHRoMCwgc3BhY2luZzAsIGxheWVyMSwgd2lkdGgxLCBzcGFjaW5nMSwgc3RhcnRzX3dpdGgsIG9mZnNldCwgcGFkX29mZnNldCwgZXh0ZW5kLCBwYWRfcGluX2xheWVycywgbmV0cywgYWxsb3dfb3V0X29mX2RpZSk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX21ha2VSaW5nKHNlbGYsIGdyaWQsIGxheWVyMCwgd2lkdGgwLCBzcGFjaW5nMCwgbGF5ZXIxLCB3aWR0aDEsIHNwYWNpbmcxLCBzdGFydHNfd2l0aCwgb2Zmc2V0LCBwYWRfb2Zmc2V0LCBleHRlbmQsIHBhZF9waW5fbGF5ZXJzLCBuZXRzLCBhbGxvd19vdXRfb2ZfZGllKQoKICAgIGRlZiBtYWtlRm9sbG93cGluKHNlbGYsIGdyaWQsIGxheWVyLCB3aWR0aCwgZXh0ZW5kKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fbWFrZUZvbGxvd3BpbihzZWxmLCBncmlkLCBsYXllciwgd2lkdGgsIGV4dGVuZCkKCiAgICBkZWYgbWFrZVN0cmFwKHNlbGYsIGdyaWQsIGxheWVyLCB3aWR0aCwgc3BhY2luZywgcGl0Y2gsIG9mZnNldCwgbnVtYmVyX29mX3N0cmFwcywgc25hcCwgc3RhcnRzX3dpdGgsIGV4dGVuZCwgbmV0cyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX21ha2VTdHJhcChzZWxmLCBncmlkLCBsYXllciwgd2lkdGgsIHNwYWNpbmcsIHBpdGNoLCBvZmZzZXQsIG51bWJlcl9vZl9zdHJhcHMsIHNuYXAsIHN0YXJ0c193aXRoLCBleHRlbmQsIG5ldHMpCgogICAgZGVmIG1ha2VDb25uZWN0KHNlbGYsIGdyaWQsIGxheWVyMCwgbGF5ZXIxLCBjdXRfcGl0Y2hfeCwgY3V0X3BpdGNoX3ksIHZpYXMsIHRlY2h2aWFzLCBtYXhfcm93cywgbWF4X2NvbHVtbnMsIG9uZ3JpZCwgc3BsaXRfY3V0cywgZG9udF91c2Vfdmlhcyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX21ha2VDb25uZWN0KHNlbGYsIGdyaWQsIGxheWVyMCwgbGF5ZXIxLCBjdXRfcGl0Y2hfeCwgY3V0X3BpdGNoX3ksIHZpYXMsIHRlY2h2aWFzLCBtYXhfcm93cywgbWF4X2NvbHVtbnMsIG9uZ3JpZCwgc3BsaXRfY3V0cywgZG9udF91c2VfdmlhcykKCiAgICBkZWYgd3JpdGVUb0RiKHNlbGYsICphcmdzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fd3JpdGVUb0RiKHNlbGYsICphcmdzKQoKICAgIGRlZiByaXBVcChzZWxmLCBuZXQpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9yaXBVcChzZWxmLCBuZXQpCgogICAgZGVmIHNldERlYnVnUmVuZGVyZXIoc2VsZiwgb24pOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9zZXREZWJ1Z1JlbmRlcmVyKHNlbGYsIG9uKQoKICAgIGRlZiByZW5kZXJlclJlZHJhdyhzZWxmKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fcmVuZGVyZXJSZWRyYXcoc2VsZikKCiAgICBkZWYgc2V0QWxsb3dSZXBhaXJDaGFubmVscyhzZWxmLCBhbGxvdyk6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX3NldEFsbG93UmVwYWlyQ2hhbm5lbHMoc2VsZiwgYWxsb3cpCgogICAgZGVmIGZpbHRlclZpYXMoc2VsZiwgZmlsdGVyKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fZmlsdGVyVmlhcyhzZWxmLCBmaWx0ZXIpCgogICAgZGVmIGNoZWNrU2V0dXAoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX2NoZWNrU2V0dXAoc2VsZikKCiAgICBkZWYgcmVwYWlyVmlhcyhzZWxmLCBuZXRzKToKICAgICAgICByZXR1cm4gX3Bkbl9weS5QZG5HZW5fcmVwYWlyVmlhcyhzZWxmLCBuZXRzKQoKICAgIGRlZiBjcmVhdGVTcm91dGVXaXJlcyhzZWxmLCBuZXQsIG91dGVyTmV0LCBsYXllcjAsIGxheWVyMSwgY3V0X3BpdGNoX3gsIGN1dF9waXRjaF95LCB2aWFzLCB0ZWNodmlhcywgbWF4X3Jvd3MsIG1heF9jb2x1bW5zLCBvbmdyaWQsIG1ldGFsV2lkdGhzLCBtZXRhbHNwYWNlcywgaW5zdHMpOgogICAgICAgIHJldHVybiBfcGRuX3B5LlBkbkdlbl9jcmVhdGVTcm91dGVXaXJlcyhzZWxmLCBuZXQsIG91dGVyTmV0LCBsYXllcjAsIGxheWVyMSwgY3V0X3BpdGNoX3gsIGN1dF9waXRjaF95LCB2aWFzLCB0ZWNodmlhcywgbWF4X3Jvd3MsIG1heF9jb2x1bW5zLCBvbmdyaWQsIG1ldGFsV2lkdGhzLCBtZXRhbHNwYWNlcywgaW5zdHMpCgogICAgZGVmIGdldERlYnVnUmVuZGVyZXIoc2VsZik6CiAgICAgICAgcmV0dXJuIF9wZG5fcHkuUGRuR2VuX2dldERlYnVnUmVuZGVyZXIoc2VsZikKCiMgUmVnaXN0ZXIgUGRuR2VuIGluIF9wZG5fcHk6Cl9wZG5fcHkuUGRuR2VuX3N3aWdyZWdpc3RlcihQZG5HZW4pCgoKCg==",
nullptr};
} // end namespace pdn
