/* Generated by Yosys 0.33+34 (git sha1 54be4aca9, clang 10.0.0-4ubuntu1 -fPIC -Os) */

(* src = "hierclock.v:92.1-109.10" *)
module clockgen(clk_i, rst_n_i, clk1_o, clk2_o);
  wire _00_;
  wire _01_;
  wire _02_;
  wire _03_;
  wire _04_;
  wire _05_;
  wire _06_;
  (* src = "hierclock.v:96.25-96.34" *)
  wire _07_;
  (* src = "hierclock.v:96.25-96.34" *)
  wire _08_;
  (* src = "hierclock.v:96.25-96.34" *)
  wire _09_;
  (* src = "hierclock.v:96.25-96.34" *)
  wire _10_;
  wire _11_;
  wire _12_;
  wire _13_;
  wire _14_;
  wire _15_;
  (* src = "hierclock.v:93.25-93.32" *)
  wire _16_;
  (* force_downto = 32'd1 *)
  (* src = "hierclock.v:104.27-104.43|/home/andy/yosys/share/techmap.v:270.23-270.24" *)
  wire [3:0] _17_;
  (* force_downto = 32'd1 *)
  (* src = "hierclock.v:104.27-104.43|/home/andy/yosys/share/techmap.v:270.26-270.27" *)
  wire [3:0] _18_;
  wire _19_;
  wire _20_;
  wire _21_;
  wire _22_;
  wire _23_;
  wire _24_;
  wire _25_;
  wire _26_;
  wire _27_;
  (* src = "hierclock.v:94.25-94.31" *)
  output clk1_o;
  wire clk1_o;
  (* src = "hierclock.v:95.25-95.31" *)
  output clk2_o;
  wire clk2_o;
  (* src = "hierclock.v:92.24-92.29" *)
  input clk_i;
  wire clk_i;
  (* src = "hierclock.v:96.25-96.34" *)
  wire [3:0] counter_q;
  (* src = "hierclock.v:93.25-93.32" *)
  input rst_n_i;
  wire rst_n_i;
  INV_X1 _28_ (
    .A(_16_),
    .ZN(_11_)
  );
  AND2_X1 _29_ (
    .A1(_02_),
    .A2(_16_),
    .ZN(_03_)
  );
  OAI21_X1 _30_ (
    .A(_16_),
    .B1(_08_),
    .B2(_07_),
    .ZN(_12_)
  );
  AOI21_X1 _31_ (
    .A(_12_),
    .B1(_08_),
    .B2(_07_),
    .ZN(_04_)
  );
  AND3_X1 _32_ (
    .A1(_07_),
    .A2(_08_),
    .A3(_09_),
    .ZN(_13_)
  );
  AOI21_X1 _33_ (
    .A(_09_),
    .B1(_08_),
    .B2(_07_),
    .ZN(_14_)
  );
  NOR3_X1 _34_ (
    .A1(_11_),
    .A2(_13_),
    .A3(_14_),
    .ZN(_05_)
  );
  XNOR2_X1 _35_ (
    .A(_10_),
    .B(_13_),
    .ZN(_15_)
  );
  NOR2_X1 _36_ (
    .A1(_11_),
    .A2(_15_),
    .ZN(_06_)
  );
  (* src = "hierclock.v:98.4-106.9" *)
  DFF_X1 _37_ (
    .CK(clk_i),
    .D(_24_),
    .Q(counter_q[0]),
    .QN(_22_)
  );
  (* src = "hierclock.v:98.4-106.9" *)
  DFF_X1 _38_ (
    .CK(clk_i),
    .D(_25_),
    .Q(counter_q[1]),
    .QN(_21_)
  );
  (* src = "hierclock.v:98.4-106.9" *)
  DFF_X1 _39_ (
    .CK(clk_i),
    .D(_26_),
    .Q(counter_q[2]),
    .QN(_20_)
  );
  (* src = "hierclock.v:98.4-106.9" *)
  DFF_X1 _40_ (
    .CK(clk_i),
    .D(_27_),
    .Q(counter_q[3]),
    .QN(_19_)
  );
  assign _17_[3:1] = counter_q[3:1];
  assign _18_[0] = _17_[0];
  assign clk1_o = counter_q[1];
  assign clk2_o = counter_q[3];
  assign _17_[0] = _22_;
  assign _07_ = counter_q[0];
  assign _08_ = counter_q[1];
  assign _09_ = counter_q[2];
  assign _10_ = counter_q[3];
  assign _02_ = _22_;
  assign _16_ = rst_n_i;
  assign _24_ = _03_;
  assign _25_ = _04_;
  assign _26_ = _05_;
  assign _27_ = _06_;
endmodule

(* src = "hierclock.v:53.1-87.10" *)
module counter(clk_i, rst_n_i, load_i, load_value_i, count_value_o, count_valid_o);
  wire _00_;
  wire _01_;
  wire _02_;
  wire _03_;
  wire _04_;
  wire _05_;
  wire _06_;
  wire _07_;
  wire _08_;
  wire _09_;
  wire _10_;
  wire _11_;
  wire _12_;
  wire _13_;
  wire _14_;
  wire _15_;
  wire _16_;
  (* src = "hierclock.v:60.29-60.38" *)
  wire _17_;
  (* src = "hierclock.v:60.29-60.38" *)
  wire _18_;
  (* src = "hierclock.v:60.29-60.38" *)
  wire _19_;
  (* src = "hierclock.v:60.29-60.38" *)
  wire _20_;
  (* src = "hierclock.v:55.24-55.30" *)
  wire _21_;
  (* src = "hierclock.v:56.29-56.41" *)
  wire _22_;
  (* src = "hierclock.v:56.29-56.41" *)
  wire _23_;
  (* src = "hierclock.v:56.29-56.41" *)
  wire _24_;
  (* src = "hierclock.v:56.29-56.41" *)
  wire _25_;
  wire _26_;
  wire _27_;
  wire _28_;
  wire _29_;
  wire _30_;
  wire _31_;
  wire _32_;
  wire _33_;
  wire _34_;
  wire _35_;
  wire _36_;
  (* src = "hierclock.v:54.24-54.31" *)
  wire _37_;
  wire _38_;
  wire _39_;
  wire _40_;
  wire _41_;
  wire _42_;
  wire _43_;
  wire _44_;
  wire _45_;
  wire _46_;
  wire _47_;
  wire _48_;
  (* src = "hierclock.v:53.23-53.28" *)
  input clk_i;
  wire clk_i;
  (* src = "hierclock.v:58.24-58.37" *)
  output count_valid_o;
  wire count_valid_o;
  (* src = "hierclock.v:61.29-61.42" *)
  wire count_valid_q;
  (* src = "hierclock.v:57.29-57.42" *)
  output [3:0] count_value_o;
  wire [3:0] count_value_o;
  (* src = "hierclock.v:60.29-60.38" *)
  wire [3:0] counter_q;
  (* src = "hierclock.v:55.24-55.30" *)
  input load_i;
  wire load_i;
  (* src = "hierclock.v:56.29-56.41" *)
  input [3:0] load_value_i;
  wire [3:0] load_value_i;
  (* src = "hierclock.v:54.24-54.31" *)
  input rst_n_i;
  wire rst_n_i;
  INV_X1 _49_ (
    .A(_11_),
    .ZN(_26_)
  );
  INV_X1 _50_ (
    .A(_21_),
    .ZN(_27_)
  );
  AND2_X1 _51_ (
    .A1(_27_),
    .A2(_37_),
    .ZN(_12_)
  );
  OAI21_X1 _52_ (
    .A(_37_),
    .B1(_27_),
    .B2(_22_),
    .ZN(_28_)
  );
  AOI21_X1 _53_ (
    .A(_28_),
    .B1(_27_),
    .B2(_26_),
    .ZN(_13_)
  );
  NAND2_X1 _54_ (
    .A1(_17_),
    .A2(_18_),
    .ZN(_29_)
  );
  XNOR2_X1 _55_ (
    .A(_17_),
    .B(_18_),
    .ZN(_30_)
  );
  OAI21_X1 _56_ (
    .A(_37_),
    .B1(_23_),
    .B2(_27_),
    .ZN(_31_)
  );
  AOI21_X1 _57_ (
    .A(_31_),
    .B1(_30_),
    .B2(_27_),
    .ZN(_14_)
  );
  NAND3_X1 _58_ (
    .A1(_17_),
    .A2(_18_),
    .A3(_19_),
    .ZN(_32_)
  );
  XOR2_X1 _59_ (
    .A(_19_),
    .B(_29_),
    .Z(_33_)
  );
  OAI21_X1 _60_ (
    .A(_37_),
    .B1(_24_),
    .B2(_27_),
    .ZN(_34_)
  );
  AOI21_X1 _61_ (
    .A(_34_),
    .B1(_33_),
    .B2(_27_),
    .ZN(_15_)
  );
  XOR2_X1 _62_ (
    .A(_20_),
    .B(_32_),
    .Z(_35_)
  );
  OAI21_X1 _63_ (
    .A(_37_),
    .B1(_25_),
    .B2(_27_),
    .ZN(_36_)
  );
  AOI21_X1 _64_ (
    .A(_36_),
    .B1(_35_),
    .B2(_27_),
    .ZN(_16_)
  );
  (* src = "hierclock.v:66.4-86.9" *)
  DFF_X1 _65_ (
    .CK(clk_i),
    .D(_44_),
    .Q(count_valid_q),
    .QN(_42_)
  );
  (* src = "hierclock.v:66.4-86.9" *)
  DFF_X1 _66_ (
    .CK(clk_i),
    .D(_45_),
    .Q(counter_q[0]),
    .QN(_41_)
  );
  (* src = "hierclock.v:66.4-86.9" *)
  DFF_X1 _67_ (
    .CK(clk_i),
    .D(_46_),
    .Q(counter_q[1]),
    .QN(_40_)
  );
  (* src = "hierclock.v:66.4-86.9" *)
  DFF_X1 _68_ (
    .CK(clk_i),
    .D(_47_),
    .Q(counter_q[2]),
    .QN(_39_)
  );
  (* src = "hierclock.v:66.4-86.9" *)
  DFF_X1 _69_ (
    .CK(clk_i),
    .D(_48_),
    .Q(counter_q[3]),
    .QN(_38_)
  );
  assign count_valid_o = count_valid_q;
  assign count_value_o = counter_q;
  assign _00_ = _41_;
  assign _17_ = counter_q[0];
  assign _11_ = _41_;
  assign _22_ = load_value_i[0];
  assign _21_ = load_i;
  assign _18_ = counter_q[1];
  assign _23_ = load_value_i[1];
  assign _19_ = counter_q[2];
  assign _24_ = load_value_i[2];
  assign _20_ = counter_q[3];
  assign _25_ = load_value_i[3];
  assign _37_ = rst_n_i;
  assign _44_ = _12_;
  assign _45_ = _13_;
  assign _46_ = _14_;
  assign _47_ = _15_;
  assign _48_ = _16_;
endmodule

(* src = "hierclock.v:20.1-51.10" *)
module hierclock(clk_i, rst_n_i, a_i, b_i, a_ld_i, b_ld_i, a_count_o, a_count_valid_o, b_count_o, b_count_valid_o);
  (* src = "hierclock.v:27.31-27.40" *)
  output [3:0] a_count_o;
  wire [3:0] a_count_o;
  (* src = "hierclock.v:28.25-28.40" *)
  output a_count_valid_o;
  wire a_count_valid_o;
  (* src = "hierclock.v:23.31-23.34" *)
  input [3:0] a_i;
  wire [3:0] a_i;
  (* src = "hierclock.v:25.31-25.37" *)
  input a_ld_i;
  wire a_ld_i;
  (* src = "hierclock.v:29.31-29.40" *)
  output [3:0] b_count_o;
  wire [3:0] b_count_o;
  (* src = "hierclock.v:30.25-30.40" *)
  output b_count_valid_o;
  wire b_count_valid_o;
  (* src = "hierclock.v:24.31-24.34" *)
  input [3:0] b_i;
  wire [3:0] b_i;
  (* src = "hierclock.v:26.31-26.37" *)
  input b_ld_i;
  wire b_ld_i;
  (* src = "hierclock.v:32.25-32.33" *)
  wire clk1_int;
  (* src = "hierclock.v:33.25-33.33" *)
  wire clk2_int;
  (* src = "hierclock.v:21.31-21.36" *)
  input clk_i;
  wire clk_i;
  (* src = "hierclock.v:22.31-22.38" *)
  input rst_n_i;
  wire rst_n_i;
  (* module_not_derived = 32'd1 *)
  (* src = "hierclock.v:35.13-38.35" *)
  clockgen U1 (
    .clk1_o(clk1_int),
    .clk2_o(clk2_int),
    .clk_i(clk_i),
    .rst_n_i(rst_n_i)
  );
  (* module_not_derived = 32'd1 *)
  (* src = "hierclock.v:40.13-44.17" *)
  counter U2 (
    .clk_i(clk1_int),
    .count_valid_o(a_count_valid_o),
    .count_value_o(a_count_o),
    .load_i(a_ld_i),
    .load_value_i(a_i),
    .rst_n_i(rst_n_i)
  );
  (* module_not_derived = 32'd1 *)
  (* src = "hierclock.v:45.13-49.17" *)
  counter U3 (
    .clk_i(clk2_int),
    .count_valid_o(b_count_valid_o),
    .count_value_o(b_count_o),
    .load_i(b_ld_i),
    .load_value_i(b_i),
    .rst_n_i(rst_n_i)
  );
endmodule
