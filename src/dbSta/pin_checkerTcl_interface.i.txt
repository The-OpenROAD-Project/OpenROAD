# Define the Tcl command
namespace eval ord {
    proc check_lef {lib_name} {
        set db [ord::get_db]
        set checker [LefChecker new $db]
        set lib [$db findLib $lib_name]
        
        if {$lib == "NULL"} {
            error "Library $lib_name not found"
        }

        set result [$checker validateLib $lib]
        
        if {![dict get $result valid]} {
            foreach err [dict get $result errors] {
                puts "ERROR: $err"
            }
            return 0
        }
        return 1
    }
}